<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="../assets/badiani-common.css" />
  <style>
    /* Page-specific styles for B2B page */

    .page-shell{ padding:48px clamp(16px, 4vw, 80px) 80px; }
    .top-bar{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:32px; }
    .back-link{ text-decoration:none; color:var(--badiani-blue); font-weight:600; letter-spacing:1px; text-transform:uppercase; font-size:12px; }

    .hero{ background:var(--surface); border-radius:28px; padding:40px; box-shadow:0 18px 40px rgba(0,0,0,0.08); margin-bottom:48px; }
    .hero h1{ font-size:clamp(28px, 3.6vw, 46px); margin-bottom:12px; }
    .hero p{ font-size:clamp(16px, 1.5vw, 20px); color:#6a6b6e; max-width:780px; }

    .section-title{ font-size:clamp(20px, 2.4vw, 30px); margin:40px 0 18px; }

    .category-grid{ display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:24px; }
    .category-card{
      background:var(--surface);
      border-radius:16px;
      padding:18px 20px;
      border:1px solid rgba(30,57,141,0.12);
      box-shadow:0 8px 18px rgba(0,0,0,0.06);
      cursor:pointer;
      touch-action:manipulation;
      transition:transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:10px;
      aspect-ratio:4 / 3;
      min-height:180px;
      overflow:hidden;
    }
    .category-card.b2b-card--gelato,
    .category-card.b2b-card--torte,
    .category-card.b2b-card--vasche,
    .category-card.b2b-card--pezziduri,
    .category-card.b2b-card--coppette,
    .category-card.b2b-card--cono,
    .category-card.b2b-card--cialde,
    .category-card.b2b-card--contenitori{
      position:relative;
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/gelato.png');
      background-size:cover;
      background-position:center;
      background-repeat:no-repeat;
      color:#fff;
      border-color:rgba(255,255,255,0.2);
      overflow:hidden;
    }
    .category-card.b2b-card--torte{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/torte.png');
    }
    .category-card.b2b-card--vasche{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/vasche.png');
    }
    .category-card.b2b-card--pezziduri{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/pezziduri.png');
    }
    .category-card.b2b-card--coppette{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/coppette.png');
    }
    .category-card.b2b-card--cono{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/gelati%20tenda.png');
    }
    .category-card.b2b-card--cialde{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/wafer-pulsante.png');
    }
    .category-card.b2b-card--contenitori{
      background-image:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.5)), url('../pdf_extracted/contenitori.png');
    }
    .category-card.b2b-card--gelato::before,
    .category-card.b2b-card--torte::before,
    .category-card.b2b-card--vasche::before,
    .category-card.b2b-card--pezziduri::before,
    .category-card.b2b-card--coppette::before,
    .category-card.b2b-card--cono::before,
    .category-card.b2b-card--cialde::before,
    .category-card.b2b-card--contenitori::before{
      content:"";
      position:absolute;
      inset:0;
      background:linear-gradient(180deg, rgba(0,0,0,0.1), rgba(0,0,0,0.55));
      pointer-events:none;
    }
    .category-card.b2b-card--gelato > *,
    .category-card.b2b-card--torte > *,
    .category-card.b2b-card--vasche > *,
    .category-card.b2b-card--pezziduri > *,
    .category-card.b2b-card--coppette > *,
    .category-card.b2b-card--cono > *,
    .category-card.b2b-card--cialde > *,
    .category-card.b2b-card--contenitori > *{
      position:relative;
      z-index:1;
    }
    .category-card:hover{
      transform:translateY(-2px);
      box-shadow:0 12px 24px rgba(0,0,0,0.08);
      border-color:rgba(30,57,141,0.22);
    }
    .category-card:focus-visible{
      outline:2px solid rgba(30,57,141,0.6);
      outline-offset:3px;
    }
    .category-title{ font-size:16px; letter-spacing:0.6px; }
    .category-desc{
      color:#6a6b6e;
      font-size:13px;
      line-height:1.45;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }
    .category-card.b2b-card--gelato .category-title,
    .category-card.b2b-card--torte .category-title,
    .category-card.b2b-card--vasche .category-title,
    .category-card.b2b-card--pezziduri .category-title,
    .category-card.b2b-card--coppette .category-title,
    .category-card.b2b-card--cono .category-title,
    .category-card.b2b-card--cialde .category-title,
    .category-card.b2b-card--contenitori .category-title{
      color:#fff;
      background:rgba(0,0,0,0.45);
      padding:6px 10px;
      border-radius:999px;
      align-self:flex-start;
    }
    .category-card.b2b-card--gelato .category-desc,
    .category-card.b2b-card--torte .category-desc,
    .category-card.b2b-card--vasche .category-desc,
    .category-card.b2b-card--pezziduri .category-desc,
    .category-card.b2b-card--coppette .category-desc,
    .category-card.b2b-card--cono .category-desc,
    .category-card.b2b-card--cialde .category-desc,
    .category-card.b2b-card--contenitori .category-desc{
      color:rgba(255,255,255,0.88);
    }

    .future-slots{ display:grid; grid-template-columns:repeat(4, minmax(0, 1fr)); gap:12px; }
    .slot{ background:#f5f6f8; border-radius:14px; padding:12px; font-size:13px; color:#7a7c81; text-transform:uppercase; letter-spacing:1px; }

    .list{ padding-left:18px; display:grid; gap:8px; font-size:15px; color:#6a6b6e; }
    .pill-grid{ display:grid; grid-template-columns:repeat(3, minmax(0, 1fr)); gap:12px; }
    .pill{ background:#f5f6f8; border-radius:16px; padding:14px 16px; font-size:14px; color:#6a6b6e; }
    .stepper{ display:grid; grid-template-columns:repeat(5, minmax(0, 1fr)); gap:8px; }
    .step{
      background:var(--surface);
      border-radius:16px;
      padding:12px 10px;
      border:1px solid rgba(30,57,141,0.12);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:8px;
      text-align:center;
      position:relative;
    }
    .step::after{
      content:"";
      position:absolute;
      top:20%;
      right:-4px;
      width:1px;
      height:60%;
      background:rgba(30,57,141,0.12);
    }
    .step:last-child::after{ display:none; }
    .step-num{ width:32px; height:32px; border-radius:50%; background:var(--badiani-blue); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:600; font-size:13px; }
    .cta-block{ background:var(--surface); border-radius:22px; padding:26px; border:2px solid rgba(30,57,141,0.1); box-shadow:0 14px 30px rgba(0,0,0,0.08); }
    .cta-block p{ color:#6a6b6e; margin-top:8px; }
    .cta-button{ display:inline-flex; margin-top:16px; padding:12px 28px; border-radius:30px; background:var(--badiani-blue); color:#fff; text-decoration:none; font-size:13px; text-transform:uppercase; letter-spacing:2px; font-weight:600; }

    .modal-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.35);
      display:none;
      align-items:center;
      justify-content:center;
      padding:24px;
      padding-top:calc(24px + env(safe-area-inset-top));
      padding-bottom:calc(24px + env(safe-area-inset-bottom));
      padding-left:calc(24px + env(safe-area-inset-left));
      padding-right:calc(24px + env(safe-area-inset-right));
      padding-top:calc(24px + constant(safe-area-inset-top));
      padding-bottom:calc(24px + constant(safe-area-inset-bottom));
      padding-left:calc(24px + constant(safe-area-inset-left));
      padding-right:calc(24px + constant(safe-area-inset-right));
      z-index:2000;
    }
    .modal-overlay.is-open{ display:flex; }
    .modal{
      background:var(--surface);
      color:var(--badiani-blue);
      width:min(1280px, 96vw);
      max-height:85vh;
      border-radius:20px;
      box-shadow:0 24px 60px rgba(0,0,0,0.2);
      display:flex;
      flex-direction:column;
      overflow:hidden;
    }
    .modal__header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:22px 28px;
      border-bottom:1px solid rgba(30,57,141,0.08);
    }
    .modal__title{ font-size:18px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); }
    .modal__close{
      border:none;
      background:transparent;
      font-size:18px;
      cursor:pointer;
      color:var(--badiani-blue);
    }
    .modal__body{ padding:0; overflow:hidden; display:grid; grid-template-columns:220px 1fr; min-height:0; }
    .modal__sidebar{
      border-right:1px solid rgba(30,57,141,0.08);
      background:#fafbfc;
      padding:18px;
      overflow:auto;
      -webkit-overflow-scrolling:touch;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .modal__nav{
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .modal__nav button{
      text-align:left;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid transparent;
      background:transparent;
      font-size:12px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:#4a4f57;
      cursor:pointer;
    }
    .modal__nav button.is-active{
      background:#fff;
      border-color:rgba(30,57,141,0.18);
      color:var(--badiani-blue);
      font-weight:600;
    }
    .modal__content{
      padding:24px 28px 28px;
      overflow:auto;
      -webkit-overflow-scrolling:touch;
      display:grid;
      gap:24px;
    }
    .modal__select{
      display:none;
      width:100%;
      margin-bottom:12px;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid rgba(30,57,141,0.18);
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:1px;
      color:#4a4f57;
      background:#fff;
      font-family:inherit;
    }
    .modal__section h4{ font-size:14px; text-transform:uppercase; letter-spacing:1px; margin-bottom:6px; color:var(--badiani-blue); }
    .modal__section p,
    .modal__section li{ font-size:14px; color:#6a6b6e; }
    .modal__grid{ display:grid; grid-template-columns:repeat(4, minmax(0, 1fr)); gap:12px; }
    .modal__card{ background:#f5f6f8; border-radius:14px; padding:12px; }
    .modal__cta{ display:flex; justify-content:flex-end; }
    .modal__cta .cta-button{ background:transparent; color:var(--badiani-blue); border:1px solid rgba(30,57,141,0.2); }

    .modal__table-wrap{ overflow:auto; border-radius:12px; border:1px solid rgba(30,57,141,0.12); background:#fff; }
    .modal__table{ width:100%; border-collapse:collapse; font-size:13px; color:#4a4f57; }
    .modal__table th,
    .modal__table td{ padding:8px 10px; border-bottom:1px solid rgba(30,57,141,0.08); text-align:left; vertical-align:top; }
    .modal__table th{ background:#f5f6f8; font-size:11px; text-transform:uppercase; letter-spacing:1px; color:#6a6b6e; position:sticky; top:0; z-index:1; }
    .modal__table tr:last-child td{ border-bottom:none; }
    .modal__note{ font-size:12px; color:#9aa0a6; }

    .gelato-showcase{ display:none; gap:20px; }
    .gelato-showcase.is-active{ display:grid; }
    .gelato-header{ display:grid; gap:6px; }
    .gelato-header h4{ font-size:16px; text-transform:uppercase; letter-spacing:1px; color:var(--badiani-blue); }
    .gelato-header p{ font-size:14px; color:#6a6b6e; }
    .gelato-controls{ display:flex; flex-wrap:wrap; gap:14px; align-items:flex-end; }
    .gelato-control{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:180px;
      flex:1;
    }
    .gelato-control--search{
      flex:0 1 260px;
      min-width:200px;
    }
    .gelato-control--search input{
      width:100%;
      background:#f5f6f8;
      border-color:rgba(30,57,141,0.12);
      box-shadow:inset 0 1px 2px rgba(30,57,141,0.08);
      padding-left:34px;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none' stroke='%2390949a' stroke-width='1.7' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='7' cy='7' r='5'/%3E%3Cpath d='M11 11l4 4'/%3E%3C/svg%3E");
      background-repeat:no-repeat;
      background-position:12px center;
      background-size:16px;
      -webkit-appearance:none;
      appearance:none;
    }
    .gelato-control--search input::placeholder{ color:#9aa0a6; }
    .gelato-control label{ font-size:11px; text-transform:uppercase; letter-spacing:1px; color:#90949a; }
    .gelato-control select,
    .gelato-control input{
      border:1px solid rgba(30,57,141,0.18);
      border-radius:12px;
      padding:10px 12px;
      font-size:13px;
      font-family:inherit;
      color:#4a4f57;
      background:#fff;
    }
    .gelato-body{
      display:grid;
      grid-template-columns:minmax(0, 1fr);
      gap:24px;
      min-height:0;
    }
    .gelato-grid{
      display:grid;
      grid-template-columns:repeat(4, minmax(0, 1fr));
      gap:16px;
      align-content:start;
      grid-auto-flow:dense;
    }
    .gelato-card{
      border:none;
      background:#fff;
      border-radius:14px;
      overflow:hidden;
      box-shadow:0 10px 22px rgba(0,0,0,0.08);
      cursor:pointer;
      text-align:left;
      padding:0;
      display:flex;
      flex-direction:column;
      transition:transform 0.18s ease, box-shadow 0.18s ease, outline-color 0.18s ease;
    }
    .gelato-card img{
      width:100%;
      aspect-ratio:1 / 1;
      object-fit:cover;
      display:block;
    }
    .gelato-card--tub img{
      aspect-ratio:3081 / 4393;
    }
    .gelato-card span{
      font-size:12px;
      letter-spacing:0.5px;
      padding:8px 10px;
      color:#4a4f57;
      background:#fafbfc;
    }
    .gelato-card:focus-visible{
      outline:2px solid rgba(30,57,141,0.6);
      outline-offset:2px;
    }
    .gelato-card:hover{ transform:translateY(-2px); box-shadow:0 16px 28px rgba(0,0,0,0.12); }
    .gelato-card.is-selected{ outline:2px solid rgba(30,57,141,0.4); outline-offset:2px; }
    .gelato-card.is-expanded{
      grid-column:span 2;
      grid-row:span 2;
    }
    .gelato-card__content{
      display:grid;
      grid-template-columns:1fr;
      gap:12px;
      padding:12px;
    }
    .gelato-card__media{
      width:100%;
      overflow:hidden;
      display:block;
      background:#f0f1f3;
    }
    .gelato-card__media img{
      width:100%;
      height:100%;
      aspect-ratio:1 / 1;
      object-fit:cover;
      display:block;
    }
    .gelato-card--tub .gelato-card__media img{
      aspect-ratio:3081 / 4393;
    }
    .gelato-card.is-expanded .gelato-card__media img{
      aspect-ratio:4 / 3;
    }
    .gelato-card--tub.is-expanded .gelato-card__media img{
      aspect-ratio:1 / 1;
    }
    .gelato-card__details{
      display:grid;
      gap:10px;
      padding:12px;
      opacity:0;
      transform:translateY(6px);
      transition:opacity 0.18s ease, transform 0.18s ease;
    }
    .gelato-card.is-expanded .gelato-card__details{
      opacity:1;
      transform:translateY(0);
    }
    .gelato-card__details .gelato-section-title{ margin-bottom:4px; }
    .gelato-card__details .gelato-list{ font-size:12px; color:#5b5f66; }
    .gelato-card__details .gelato-flags{ gap:6px; }
    .gelato-card__details .gelato-flag{ padding:6px 8px; }
    .gelato-detail{
      background:#fff;
      border-radius:16px;
      border:1px solid rgba(30,57,141,0.12);
      padding:18px;
      display:grid;
      gap:14px;
      overflow:auto;
      -webkit-overflow-scrolling:touch;
      max-height:none;
      opacity:0;
      transform:translateY(8px);
      pointer-events:none;
      transition:opacity 0.2s ease, transform 0.2s ease;
    }
    .gelato-detail.is-open{
      opacity:1;
      transform:translateY(0);
      pointer-events:auto;
    }
    .gelato-detail__header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .gelato-detail__close{
      border:none;
      background:#f0f1f3;
      color:#4a4f57;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:1px;
      cursor:pointer;
    }
    .gelato-detail.is-collapsed{
      opacity:0;
      transform:translateY(8px);
      pointer-events:none;
      height:0;
      padding:0;
      border:none;
    }
    .gelato-detail img{
      width:100%;
      border-radius:12px;
      aspect-ratio:4 / 3;
      object-fit:cover;
      display:block;
      background:#f0f1f3;
    }
    .gelato-vasche{
      display:grid;
      gap:12px;
    }
    .gelato-vasche__toggle{
      justify-self:flex-start;
      padding:10px 16px;
      border-radius:999px;
      border:1px solid rgba(30,57,141,0.2);
      background:#fff;
      color:var(--badiani-blue);
      font-size:12px;
      text-transform:uppercase;
      letter-spacing:1px;
      font-weight:600;
      cursor:pointer;
    }
    .gelato-vasche__toggle.is-open{
      background:var(--badiani-blue);
      color:#fff;
      border-color:var(--badiani-blue);
    }
    .gelato-vasche__content[hidden]{ display:none; }
    .gelato-section-title{ font-size:12px; text-transform:uppercase; letter-spacing:1px; color:#90949a; }
    .gelato-list{ display:grid; gap:6px; font-size:13px; color:#4a4f57; }
    .gelato-flags{ display:grid; gap:8px; }
    .gelato-flag{
      display:flex;
      justify-content:space-between;
      gap:8px;
      padding:8px 10px;
      border-radius:12px;
      background:#f5f6f8;
      font-size:12px;
      color:#4a4f57;
    }
    .gelato-empty{ font-size:13px; color:#6a6b6e; text-align:center; padding:12px; }

    .pezziduri-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
      gap:16px;
    }
    .pezziduri-card{
      background:#fff;
      border-radius:16px;
      overflow:hidden;
      border:1px solid rgba(30,57,141,0.12);
      box-shadow:0 10px 22px rgba(0,0,0,0.06);
      display:flex;
      flex-direction:column;
      min-height:100%;
      cursor:pointer;
      transition:transform 0.2s ease, box-shadow 0.2s ease;
    }
    .pezziduri-card:hover{ transform:translateY(-2px); box-shadow:0 16px 30px rgba(0,0,0,0.1); }
    .pezziduri-card:focus-visible{ outline:2px solid rgba(30,57,141,0.6); outline-offset:3px; }
    .pezziduri-card.is-expanded{ grid-column:span 2; }
    .pezziduri-media{
      width:100%;
      aspect-ratio:1 / 1;
      background:#f0f1f3;
      overflow:hidden;
    }
    .pezziduri-media img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .pezziduri-body{
      padding:12px 14px 14px;
      display:grid;
      gap:8px;
    }
    .pezziduri-title{
      font-size:13px;
      font-weight:600;
      letter-spacing:0.3px;
      color:var(--badiani-blue);
    }
    .pezziduri-meta{
      display:grid;
      gap:6px;
      font-size:12px;
      color:#5b5f66;
    }
    .pezziduri-meta span{
      display:flex;
      justify-content:space-between;
      gap:8px;
      background:#f5f6f8;
      padding:6px 8px;
      border-radius:10px;
    }
    .pezziduri-note{
      font-size:12px;
      color:#9aa0a6;
      margin-top:6px;
    }
    .torte-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
      gap:18px;
    }
    .torte-card{
      background:#fff;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(30,57,141,0.12);
      box-shadow:0 12px 26px rgba(0,0,0,0.07);
      display:flex;
      flex-direction:column;
      cursor:pointer;
      transition:transform 0.2s ease, box-shadow 0.2s ease;
    }
    .torte-card:hover{ transform:translateY(-2px); box-shadow:0 16px 30px rgba(0,0,0,0.1); }
    .torte-card:focus-visible{ outline:2px solid rgba(30,57,141,0.6); outline-offset:3px; }
    .torte-card.is-expanded{
      grid-column:span 2;
    }
    .torte-media{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:8px;
      padding:12px;
      background:#f7f7f9;
    }
    .torte-media figure{
      margin:0;
      background:#fff;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(30,57,141,0.12);
      display:grid;
      gap:6px;
    }
    .torte-media img{
      width:100%;
      aspect-ratio:1 / 1;
      object-fit:cover;
      display:block;
    }
    .torte-media figcaption{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:1px;
      color:#6a6b6e;
      text-align:center;
      padding:6px 0 10px;
      background:#fff;
    }
    .torte-body{
      padding:14px 16px 16px;
      display:grid;
      gap:10px;
    }
    .torte-title{
      font-size:13px;
      font-weight:600;
      letter-spacing:0.3px;
      color:var(--badiani-blue);
    }
    .torte-price{
      font-size:12px;
      color:#5b5f66;
      background:#f5f6f8;
      padding:6px 8px;
      border-radius:10px;
      display:flex;
      justify-content:space-between;
    }
    @media(max-width:768px){
      .torte-card.is-expanded{
        grid-column:span 1;
        transform:scale(1.02);
        box-shadow:0 18px 36px rgba(0,0,0,0.14);
      }
      .torte-card.is-expanded .torte-media{ grid-template-columns:1fr; }
      .torte-card.is-expanded .torte-media img{ aspect-ratio:4 / 3; }
    }

    @media(max-width:768px){
      .pezziduri-card.is-expanded{
        grid-column:span 1;
        transform:scale(1.02);
        box-shadow:0 18px 36px rgba(0,0,0,0.14);
      }
      .pezziduri-card.is-expanded .pezziduri-media{ aspect-ratio:4 / 3; }
    }

    @media(max-width:840px){
      .modal__body{ grid-template-columns:200px 1fr; }
    }
    @media(max-width:720px){
      .modal{
        width:100%;
        height:auto;
        max-height:calc(100% - 64px);
        border-radius:18px;
        margin-top:12px;
      }
      .gelato-card.is-expanded{ grid-column:span 2; grid-row:span 2; }
      .modal__body{ grid-template-columns:1fr; }
      .modal__sidebar{ border-right:none; border-bottom:1px solid rgba(30,57,141,0.08); }
      .modal__nav{ display:none; }
      .gelato-detail,
      .gelato-card__details{ transition:none; }

      /* Modal mobile: compatta come inspiration */
      .modal-overlay{ padding:42px 12px 22px; align-items:flex-start; }
      .modal__header{ padding:16px 18px; }
      .modal__title{ font-size:clamp(16px, 5.6vw, 22px); letter-spacing:0.8px; }
      .modal__close{ font-size:22px; width:36px; height:36px; display:flex; align-items:center; justify-content:center; border-radius:50%; background:rgba(30,57,141,0.08); }
      .modal__body{ padding:0; }
      .modal__sidebar{ padding:12px 14px; }
      .modal__select{ display:block; }
      .modal__content{ padding:16px 18px 18px; gap:16px; }
      .modal__section h4{ font-size:12px; margin-bottom:4px; letter-spacing:0.6px; }
      .modal__section p,
      .modal__section li{ font-size:12px; line-height:1.45; }
      .modal__grid{ grid-template-columns:repeat(2, minmax(0, 1fr)); gap:10px; }
      .modal__card{ padding:10px; border-radius:12px; }
      .modal__table{ font-size:12px; }
      .modal__table th,
      .modal__table td{ padding:6px 8px; }
    }

    @media(max-width:1200px){
      .gelato-grid{ grid-template-columns:repeat(4, minmax(0, 1fr)); }
    }
    @media(max-width:1024px){
      .gelato-grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); }
      .modal__content{ padding:20px 22px 24px; }
    }
    @media(max-width:768px){
      .gelato-grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); }
      .gelato-detail{ position:relative; opacity:1; transform:none; pointer-events:auto; }
      .gelato-detail.is-collapsed{ height:auto; padding:16px; border:1px solid rgba(30,57,141,0.12); }
    }
    @media(prefers-reduced-motion:reduce){
      .gelato-card,
      .gelato-detail{ transition:none; }
    }

    .notice{ margin-top:10px; font-size:13px; color:#9aa0a6; }

    @media(max-width:1024px){
      .category-grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); gap:16px; }
    }
    @media(max-width:980px){
      .stepper{ grid-template-columns:repeat(5, minmax(0, 1fr)); gap:6px; }
      .step::after{ display:none; }
    }
    @media(max-width:640px){
      .category-grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); gap:10px; }
      .category-card{ padding:12px 10px; gap:8px; min-height:140px; }
      .category-title{ font-size:12px; letter-spacing:0.4px; }
      .category-desc{ font-size:11px; }
      .pill-grid{ grid-template-columns:repeat(3, minmax(0, 1fr)); gap:8px; }
      .pill{ padding:10px 8px; font-size:11px; }
      .stepper{ grid-template-columns:repeat(5, minmax(0, 1fr)); gap:6px; }
      .step{ padding:8px 6px; border-radius:12px; gap:6px; }
      .step-num{ width:26px; height:26px; font-size:11px; }
      .step span{ font-size:10px; }
    }
    @media(max-width:768px){
      .hero{ padding:30px; }
      .top-bar{ flex-direction:column; align-items:flex-start; }
    }
  </style>
</head>
<body>
  <header class="topbar" data-i18n-attr="aria-label:topbar.label">
    <div class="topbar__logo">
      <img src="../assets/extracted/f473fa4a48ae6948929084c736e84f6274322e2d.webp" data-i18n-attr="alt:brand.alt" alt="" />
    </div>
    <div class="topbar__lang">
      <select class="topbar__select" id="langSelect" data-i18n-attr="aria-label:lang.label">
        <option value="it" data-i18n="lang.it"></option>
        <option value="en" data-i18n="lang.en"></option>
        <option value="es" data-i18n="lang.es"></option>
        <option value="fr" data-i18n="lang.fr"></option>
      </select>
    </div>
  </header>

  <main class="page-shell">
    <div class="top-bar">
      <a class="back-link" href="../" data-i18n="b2b.back"></a>
      <span class="category-tag" data-i18n="b2b.tag"></span>
    </div>

    <section class="page-title-section" style="text-align: center; padding: 2rem 1rem;">
      <h1 style="font-size: clamp(2.5rem, 6vw, 4rem); margin-bottom: 0.5rem;" data-i18n="b2b.hero.title"></h1>
      <p style="font-size: 1.1rem; opacity: 0.85;" data-i18n="b2b.hero.subtitle"></p>
      <p style="font-size: 0.95rem; opacity: 0.7; margin-top: 0.5rem;" data-i18n="b2b.hero.note"></p>
    </section>

    <section data-i18n-attr="aria-label:b2b.areas.label">
      <h2 class="section-title" data-i18n="b2b.areas.title"></h2>
      <div class="category-grid">
        <article class="category-card b2b-card--gelato" data-category="GELATO" role="button" tabindex="0" aria-haspopup="dialog">
          <h3 class="category-title" data-i18n="b2b.categories.GELATO"></h3>
          <p class="category-desc" data-i18n-html="b2b.categories.desc"></p>
        </article>
        <article class="category-card b2b-card--pezziduri" data-category="PEZZI DURI" role="button" tabindex="0" aria-haspopup="dialog">
          <h3 class="category-title" data-i18n="b2b.categories.PEZZI_DURI"></h3>
          <p class="category-desc" data-i18n-html="b2b.categories.desc"></p>
        </article>
        <article class="category-card b2b-card--torte" data-category="TORTE" role="button" tabindex="0" aria-haspopup="dialog">
          <h3 class="category-title" data-i18n="b2b.categories.TORTE"></h3>
          <p class="category-desc" data-i18n-html="b2b.categories.desc"></p>
        </article>
        <article class="category-card b2b-card--cono" data-category="CONI_COPPETTE" role="button" tabindex="0" aria-haspopup="dialog">
          <h3 class="category-title" data-i18n="b2b.categories.CONI_COPPETTE"></h3>
          <p class="category-desc" data-i18n-html="b2b.categories.desc"></p>
        </article>
        <article class="category-card" data-category="ACCESSORI" role="button" tabindex="0" aria-haspopup="dialog">
          <h3 class="category-title" data-i18n="b2b.categories.ACCESSORI"></h3>
          <p class="category-desc" data-i18n-html="b2b.categories.desc"></p>
        </article>
        <article class="category-card b2b-card--contenitori" data-category="CONTENITORI" role="button" tabindex="0" aria-haspopup="dialog">
          <h3 class="category-title" data-i18n="b2b.categories.CONTENITORI"></h3>
          <p class="category-desc" data-i18n-html="b2b.categories.desc"></p>
        </article>
      </div>
    </section>

    <section data-i18n-attr="aria-label:b2b.target.label" style="padding: 2rem 1rem;">
      <h2 class="section-title" data-i18n="b2b.target.title"></h2>
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.75rem; max-width: 900px; margin: 0 auto;">
        <span style="background: var(--badiani-blue); color: white; padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.9rem;" data-i18n="b2b.target.item1"></span>
        <span style="background: var(--badiani-blue); color: white; padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.9rem;" data-i18n="b2b.target.item2"></span>
        <span style="background: var(--badiani-blue); color: white; padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.9rem;" data-i18n="b2b.target.item3"></span>
        <span style="background: var(--badiani-blue); color: white; padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.9rem;" data-i18n="b2b.target.item4"></span>
        <span style="background: var(--badiani-blue); color: white; padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.9rem;" data-i18n="b2b.target.item5"></span>
        <span style="background: var(--badiani-blue); color: white; padding: 0.5rem 1rem; border-radius: 2rem; font-size: 0.9rem;" data-i18n="b2b.target.item6"></span>
      </div>
    </section>

    <section data-i18n-attr="aria-label:b2b.experiences.label">
      <h2 class="section-title" data-i18n="b2b.experiences.title"></h2>
      <div class="pill-grid">
        <div class="pill" data-i18n="b2b.experiences.item1"></div>
        <div class="pill" data-i18n="b2b.experiences.item2"></div>
        <div class="pill" data-i18n="b2b.experiences.item3"></div>
      </div>
    </section>

    <section data-i18n-attr="aria-label:b2b.steps.label">
      <h2 class="section-title" data-i18n="b2b.steps.title"></h2>
      <div class="stepper">
        <div class="step"><span class="step-num">1</span><span data-i18n="b2b.steps.item1"></span></div>
        <div class="step"><span class="step-num">2</span><span data-i18n="b2b.steps.item2"></span></div>
        <div class="step"><span class="step-num">3</span><span data-i18n="b2b.steps.item3"></span></div>
        <div class="step"><span class="step-num">4</span><span data-i18n="b2b.steps.item4"></span></div>
        <div class="step"><span class="step-num">5</span><span data-i18n="b2b.steps.item5"></span></div>
      </div>
    </section>

    <section data-i18n-attr="aria-label:b2b.cta.label">
      <h2 class="section-title" data-i18n="b2b.cta.title"></h2>
      <div class="cta-block">
        <a class="cta-button" href="#" data-i18n="b2b.cta.button"></a>
        <p data-i18n="b2b.cta.note"></p>
      </div>
    </section>
  </main>

  <div class="modal-overlay" id="categoryModal" role="dialog" aria-modal="true" aria-labelledby="categoryModalTitle">
    <div class="modal">
      <div class="modal__header">
        <h3 class="modal__title" id="categoryModalTitle" data-i18n="b2b.modal.titleDefault"></h3>
        <button class="modal__close" type="button" data-i18n-attr="aria-label:b2b.modal.close">✕</button>
      </div>
      <div class="modal__body">
        <aside class="modal__sidebar">
          <select class="modal__select" id="categorySelect" data-i18n-attr="aria-label:b2b.modal.select"></select>
          <nav class="modal__nav" id="categoryNav" data-i18n-attr="aria-label:b2b.modal.nav"></nav>
        </aside>
        <div class="modal__content" id="categoryContent">
          <div class="gelato-showcase" id="gelatoShowcase">
            <div class="gelato-vasche">
              <button class="gelato-vasche__toggle" id="vascheToggle" type="button" data-i18n="b2b.gelato.vascheButton" aria-expanded="false"></button>
              <div class="gelato-vasche__content" id="vascheContent" hidden></div>
            </div>
            <div class="gelato-header">
              <h4 data-gelato-i18n="vetrinaGelato.title"></h4>
              <p data-gelato-i18n="vetrinaGelato.subtitle"></p>
            </div>
            <div class="gelato-controls">
              <div class="gelato-control gelato-control--search">
                <label for="gelatoSearch" data-gelato-i18n="common.search"></label>
                <input id="gelatoSearch" type="search" data-gelato-i18n-attr="placeholder:vetrinaGelato.searchPlaceholder" />
              </div>
            </div>
            <div class="gelato-body">
              <div>
                <div class="gelato-section-title" data-gelato-i18n="vetrinaGelato.gridTitle"></div>
                <div class="gelato-grid" id="gelatoGrid"></div>
              </div>
              <div class="gelato-detail is-collapsed" id="gelatoDetail">
                <div class="gelato-empty" data-gelato-i18n="vetrinaGelato.selectFlavorHint"></div>
              </div>
            </div>
          </div>

          <div id="b2bDefaultContent">
            <div class="modal__section">
              <h4 data-i18n="b2b.modal.overview.title"></h4>
              <p data-i18n="b2b.modal.overview.text"></p>
            </div>
            <div class="modal__section">
              <h4 data-i18n="b2b.modal.includes.title"></h4>
              <ul class="list">
                <li data-i18n="b2b.modal.includes.item1"></li>
                <li data-i18n="b2b.modal.includes.item2"></li>
                <li data-i18n="b2b.modal.includes.item3"></li>
              </ul>
            </div>
            <div class="modal__section">
              <h4 data-i18n="b2b.modal.audience.title"></h4>
              <ul class="list">
                <li data-i18n="b2b.modal.audience.item1"></li>
                <li data-i18n="b2b.modal.audience.item2"></li>
                <li data-i18n="b2b.modal.audience.item3"></li>
              </ul>
            </div>
            <div class="modal__section">
              <h4 data-i18n="b2b.modal.custom.title"></h4>
              <p data-i18n="b2b.modal.custom.text"></p>
            </div>
            <div class="modal__section">
              <h4 data-i18n="b2b.modal.ops.title"></h4>
              <div class="modal__grid">
                <div class="modal__card">
                  <strong data-i18n="b2b.modal.ops.where.label"></strong>
                  <p data-i18n="b2b.modal.ops.where.text"></p>
                </div>
                <div class="modal__card">
                  <strong data-i18n="b2b.modal.ops.when.label"></strong>
                  <p data-i18n="b2b.modal.ops.when.text"></p>
                </div>
                <div class="modal__card">
                  <strong data-i18n="b2b.modal.ops.min.label"></strong>
                  <p data-i18n="b2b.modal.ops.min.text"></p>
                </div>
                <div class="modal__card">
                  <strong data-i18n="b2b.modal.ops.notes.label"></strong>
                  <p data-i18n="b2b.modal.ops.notes.text"></p>
                </div>
              </div>
            </div>
            <div class="modal__cta">
              <a class="cta-button" href="#" data-i18n="b2b.modal.cta"></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    import { gelatoFlavors } from "../data/gelatoFlavors.js?v=20260207";
    import { initI18n, t as tGelato, setLanguage as setGelatoLanguage } from "../src/i18n/i18n.js";

    (function(){
      const SUPPORTED = ['it','en','fr','es'];
      const DEFAULT_LANG = 'it';
      const STORAGE_KEY = 'badianiLang';

      const STRINGS = {
        it: {
          'meta.title': 'Badiani 1932 — B2B',
          'brand.alt': 'Badiani 1932',
          'topbar.label': 'Barra brand',
          'lang.label': 'Selettore lingua',
          'lang.it': 'IT',
          'lang.en': 'EN',
          'lang.fr': 'FR',
          'lang.es': 'ES',
          'b2b.back': '← Torna alla home',
          'b2b.tag': 'Percorso B2B',
          'b2b.hero.label': 'Hero B2B',
          'b2b.hero.title': 'Soluzioni B2B per aziende, hotel e professionisti',
          'b2b.hero.subtitle': 'Esperienze, prodotti e servizi pensati per il mondo business, hospitality e corporate',
          'b2b.hero.note': 'Progetti personalizzabili · Collaborazioni su misura · Supporto dedicato',
          'b2b.target.label': 'A chi è dedicato',
          'b2b.target.title': 'A chi è dedicato',
          'b2b.target.item1': 'Aziende e corporate',
          'b2b.target.item2': 'Hotel e strutture ricettive',
          'b2b.target.item3': 'Tour operator e agenzie',
          'b2b.target.item4': 'Event planner',
          'b2b.target.item5': 'Brand e partner commerciali',
          'b2b.target.item6': 'Location private e spazi eventi',
          'b2b.areas.label': 'Aree B2B',
          'b2b.areas.title': 'Aree B2B',
          'b2b.categories.desc': 'Contenuto in preparazione.<br>Questa sezione verrà arricchita con informazioni dedicate.',
          'b2b.categories.GELATO': 'GUSTI',
          'b2b.categories.VASCHE': 'VASCHE',
          'b2b.categories.PEZZI_DURI': 'PEZZI DURI',
          'b2b.categories.TORTE': 'TORTE',
          'b2b.categories.SEMIFREDDI': 'SEMIFREDDI',
          'b2b.categories.BARATTOLI': 'BARATTOLI',
          'b2b.categories.CONI_COPPETTE': 'CONI & COPPETTE',
          'b2b.categories.ACCESSORI': 'ACCESSORI',
          'b2b.categories.CONTENITORI': 'CONTENITORI',
          'b2b.experiences.label': 'Esperienze B2B',
          'b2b.experiences.title': 'Esperienze B2B',
          'b2b.experiences.item1': 'Eventi B2B in saletta riservata (con o senza mantecatori)',
          'b2b.experiences.item2': 'Collaborazioni con hotel e tour operator',
          'b2b.experiences.item3': 'Esperienze di laboratorio in giornate dedicate',
          'b2b.steps.label': 'Come funziona',
          'b2b.steps.title': 'Come funziona',
          'b2b.steps.item1': 'Contatto',
          'b2b.steps.item2': 'Analisi',
          'b2b.steps.item3': 'Proposta',
          'b2b.steps.item4': 'Conferma',
          'b2b.steps.item5': 'Esperienza',
          'b2b.cta.label': 'CTA finale',
          'b2b.cta.title': 'Richiedi informazioni',
          'b2b.cta.button': 'Richiedi informazioni B2B',
          'b2b.cta.note': 'Ogni progetto viene costruito su misura in base al contesto e agli obiettivi',
          'b2b.modal.titleDefault': 'Categoria',
          'b2b.modal.close': 'Chiudi',
          'b2b.modal.select': 'Seleziona categoria',
          'b2b.modal.nav': 'Categorie B2B',
          'b2b.modal.overview.title': 'Panoramica',
          'b2b.modal.overview.text': 'Testo placeholder descrittivo.',
          'b2b.modal.includes.title': 'Cosa include',
          'b2b.modal.includes.item1': 'Placeholder voce',
          'b2b.modal.includes.item2': 'Placeholder voce',
          'b2b.modal.includes.item3': 'Placeholder voce',
          'b2b.modal.audience.title': 'A chi è rivolto',
          'b2b.modal.audience.item1': 'Placeholder elenco',
          'b2b.modal.audience.item2': 'Placeholder elenco',
          'b2b.modal.audience.item3': 'Placeholder elenco',
          'b2b.modal.custom.title': 'Personalizzazione',
          'b2b.modal.custom.text': 'Testo placeholder su soluzioni su misura.',
          'b2b.modal.ops.title': 'Info operative',
          'b2b.modal.ops.where.label': 'Dove',
          'b2b.modal.ops.where.text': 'Placeholder',
          'b2b.modal.ops.when.label': 'Quando',
          'b2b.modal.ops.when.text': 'Placeholder',
          'b2b.modal.ops.min.label': 'Numero minimo persone',
          'b2b.modal.ops.min.text': 'Placeholder',
          'b2b.modal.ops.notes.label': 'Note operative',
          'b2b.modal.ops.notes.text': 'Placeholder',
          'b2b.modal.cta': 'Richiedi informazioni',
          'gelato.showcase.title': 'Vetrina Gelato',
          'gelato.showcase.subtitle': 'Scopri la selezione di gusti e filtra per stagione o nome.',
          'gelato.filters.season.label': 'Stagione',
          'gelato.filters.season.all': 'Tutti',
          'gelato.filters.season.spring': 'Primavera',
          'gelato.filters.season.summer': 'Estate',
          'gelato.filters.season.autumn': 'Autunno',
          'gelato.filters.season.winter': 'Inverno',
          'gelato.filters.search.label': 'Cerca gusto',
          'gelato.filters.search.placeholder': 'Cerca per nome...',
          'b2b.gelato.vascheButton': 'Vasche: mostra listino',
          'gelato.detail.empty': 'Seleziona un gusto per vedere i dettagli.',
          'gelato.detail.ingredients': 'Ingredienti',
          'gelato.detail.allergens': 'Allergeni',
          'gelato.detail.seasons': 'Disponibilità',
          'gelato.detail.flags': 'Parametri',
          'gelato.detail.none': 'Nessuno',
          'gelato.flags.vegan': 'Vegano',
          'gelato.flags.glutenFree': 'Senza glutine',
          'gelato.flags.lactoseFree': 'Senza lattosio',
          'gelato.flags.containsEggs': 'Contiene uova',
          'gelato.flags.containsNuts': 'Contiene frutta a guscio',
          'gelato.flags.containsAlcohol': 'Contiene alcool',
          'gelato.flags.yes': 'Sì',
          'gelato.flags.no': 'No',
          'gelato.seasons.tutti': 'Tutto l’anno',
          'gelato.seasons.primavera': 'Primavera',
          'gelato.seasons.estate': 'Estate',
          'gelato.seasons.fine-estate': 'Fine estate',
          'gelato.seasons.autunno': 'Autunno',
          'gelato.seasons.inverno': 'Inverno',
          'gelato.empty': 'Nessun gusto trovato',
          'gelato.flavors.fior-di-latte': 'Fior di latte',
          'gelato.flavors.stracciatella': 'Stracciatella',
          'gelato.flavors.cioccolato-fondente': 'Cioccolato fondente',
          'gelato.flavors.nocciola': 'Nocciola',
          'gelato.flavors.pistacchio': 'Pistacchio',
          'gelato.flavors.mandorla': 'Mandorla',
          'gelato.flavors.crema': 'Crema',
          'gelato.flavors.vaniglia': 'Vaniglia',
          'gelato.flavors.caffe': 'Caffè',
          'gelato.flavors.tiramisu': 'Tiramisù',
          'gelato.flavors.caramello-salato': 'Caramello salato',
          'gelato.flavors.gianduia': 'Gianduia',
          'gelato.flavors.bacio': 'Bacio',
          'gelato.flavors.menta': 'Menta',
          'gelato.flavors.menta-cioccolato': 'Menta e cioccolato',
          'gelato.flavors.amarena': 'Amarena',
          'gelato.flavors.yogurt': 'Yogurt',
          'gelato.flavors.limone': 'Limone (sorbetto)',
          'gelato.flavors.fragola': 'Fragola (sorbetto)',
          'gelato.flavors.lampone': 'Lampone (sorbetto)',
          'gelato.flavors.frutti-di-bosco': 'Frutti di bosco (sorbetto)',
          'gelato.flavors.mango': 'Mango (sorbetto)',
          'gelato.flavors.passion-fruit': 'Frutto della passione (sorbetto)',
          'gelato.flavors.cocco': 'Cocco',
          'gelato.flavors.banana': 'Banana',
          'gelato.flavors.rum-uvetta': 'Rum e uvetta',
          'gelato.flavors.zabaione': 'Zabaione',
          'gelato.flavors.liquirizia': 'Liquirizia',
          'gelato.flavors.cannella': 'Cannella',
          'gelato.flavors.arancia': 'Arancia (sorbetto)',
          'gelato.flavors.mandarino': 'Mandarino (sorbetto)',
          'gelato.flavors.pistacchio-salato': 'Pistacchio salato',
          'gelato.flavors.ricotta-pera': 'Ricotta e pera',
          'gelato.flavors.panna': 'Panna',
          'gelato.flavors.biscotto': 'Biscotto',
          'gelato.flavors.cheesecake-frutti-rossi': 'Cheesecake ai frutti rossi',
          'gelato.flavors.pesca': 'Pesca (sorbetto)',
          'gelato.flavors.albicocca': 'Albicocca (sorbetto)',
          'gelato.flavors.fico': 'Fico',
          'gelato.flavors.ananas': 'Ananas (sorbetto)',
          'gelato.flavors.sesamo': 'Sesamo',
          'gelato.ingredients.latte': 'Latte',
          'gelato.ingredients.panna': 'Panna',
          'gelato.ingredients.zucchero': 'Zucchero',
          'gelato.ingredients.cioccolato': 'Cioccolato',
          'gelato.ingredients.cacao': 'Cacao',
          'gelato.ingredients.nocciole': 'Nocciole',
          'gelato.ingredients.pistacchio': 'Pistacchio',
          'gelato.ingredients.mandorle': 'Mandorle',
          'gelato.ingredients.tuorlo': 'Tuorlo',
          'gelato.ingredients.vaniglia': 'Vaniglia',
          'gelato.ingredients.caffe': 'Caffè',
          'gelato.ingredients.mascarpone': 'Mascarpone (placeholder)',
          'gelato.ingredients.caramello': 'Caramello',
          'gelato.ingredients.sale': 'Sale',
          'gelato.ingredients.menta': 'Menta',
          'gelato.ingredients.amarena': 'Amarena',
          'gelato.ingredients.yogurt': 'Yogurt',
          'gelato.ingredients.acqua': 'Acqua',
          'gelato.ingredients.limone': 'Limone',
          'gelato.ingredients.fragola': 'Fragola',
          'gelato.ingredients.lampone': 'Lampone',
          'gelato.ingredients.frutti-di-bosco': 'Frutti di bosco',
          'gelato.ingredients.mango': 'Mango',
          'gelato.ingredients.frutto-passione': 'Frutto della passione',
          'gelato.ingredients.cocco': 'Cocco',
          'gelato.ingredients.banana': 'Banana',
          'gelato.ingredients.uvetta': 'Uvetta',
          'gelato.ingredients.rum': 'Rum (placeholder)',
          'gelato.ingredients.vino': 'Vino (placeholder)',
          'gelato.ingredients.liquirizia': 'Liquirizia',
          'gelato.ingredients.cannella': 'Cannella',
          'gelato.ingredients.arancia': 'Arancia',
          'gelato.ingredients.mandarino': 'Mandarino',
          'gelato.ingredients.ricotta': 'Ricotta (placeholder)',
          'gelato.ingredients.pera': 'Pera',
          'gelato.ingredients.biscotto': 'Biscotto (placeholder)',
          'gelato.ingredients.base-cheesecake': 'Base cheesecake (placeholder)',
          'gelato.ingredients.pesca': 'Pesca',
          'gelato.ingredients.albicocca': 'Albicocca',
          'gelato.ingredients.fico': 'Fico',
          'gelato.ingredients.ananas': 'Ananas',
          'gelato.ingredients.sesamo': 'Sesamo',
          'gelato.ingredients.base-latte-acqua': 'Latte o acqua (base)',
          'gelato.allergens.latte': 'Latte',
          'gelato.allergens.uova': 'Uova',
          'gelato.allergens.frutta-guscio': 'Frutta a guscio',
          'gelato.allergens.glutine': 'Glutine',
          'gelato.allergens.sesamo': 'Sesamo'
        },
        en: {
          'meta.title': 'Badiani 1932 — B2B',
          'brand.alt': 'Badiani 1932',
          'topbar.label': 'Brand bar',
          'lang.label': 'Language selector',
          'lang.it': 'IT',
          'lang.en': 'EN',
          'lang.fr': 'FR',
          'lang.es': 'ES',
          'b2b.back': '← Back to home',
          'b2b.tag': 'B2B path',
          'b2b.hero.label': 'B2B hero',
          'b2b.hero.title': 'B2B solutions for companies, hotels, and professionals',
          'b2b.hero.subtitle': 'Experiences, products and services designed for business, hospitality and corporate worlds',
          'b2b.hero.note': 'Customizable projects · Tailor-made collaborations · Dedicated support',
          'b2b.target.label': 'Who it is for',
          'b2b.target.title': 'Who it is for',
          'b2b.target.item1': 'Companies and corporate',
          'b2b.target.item2': 'Hotels and hospitality venues',
          'b2b.target.item3': 'Tour operators and agencies',
          'b2b.target.item4': 'Event planners',
          'b2b.target.item5': 'Brands and commercial partners',
          'b2b.target.item6': 'Private locations and event spaces',
          'b2b.areas.label': 'B2B areas',
          'b2b.areas.title': 'B2B areas',
          'b2b.categories.desc': 'Content in progress.<br>This section will be enriched with dedicated information.',
          'b2b.categories.GELATO': 'GUSTI',
          'b2b.categories.VASCHE': 'TUBS',
          'b2b.categories.PEZZI_DURI': 'HARD ITEMS',
          'b2b.categories.TORTE': 'CAKES',
          'b2b.categories.SEMIFREDDI': 'SEMIFREDDI',
          'b2b.categories.BARATTOLI': 'JARS',
          'b2b.categories.CONI_COPPETTE': 'CONES & CUPS',
          'b2b.categories.ACCESSORI': 'ACCESSORIES',
          'b2b.categories.CONTENITORI': 'CONTAINERS',
          'b2b.experiences.label': 'B2B experiences',
          'b2b.experiences.title': 'B2B experiences',
          'b2b.experiences.item1': 'B2B events in a reserved lounge (with or without gelato batch freezers)',
          'b2b.experiences.item2': 'Collaborations with hotels and tour operators',
          'b2b.experiences.item3': 'Lab experiences on dedicated days',
          'b2b.steps.label': 'How it works',
          'b2b.steps.title': 'How it works',
          'b2b.steps.item1': 'Contact',
          'b2b.steps.item2': 'Analysis',
          'b2b.steps.item3': 'Proposal',
          'b2b.steps.item4': 'Confirmation',
          'b2b.steps.item5': 'Experience',
          'b2b.cta.label': 'Final CTA',
          'b2b.cta.title': 'Request information',
          'b2b.cta.button': 'Request B2B information',
          'b2b.cta.note': 'Each project is tailored to the context and objectives',
          'b2b.modal.titleDefault': 'Category',
          'b2b.modal.close': 'Close',
          'b2b.modal.select': 'Select category',
          'b2b.modal.nav': 'B2B categories',
          'b2b.modal.overview.title': 'Overview',
          'b2b.modal.overview.text': 'Descriptive placeholder text.',
          'b2b.modal.includes.title': 'What’s included',
          'b2b.modal.includes.item1': 'Placeholder item',
          'b2b.modal.includes.item2': 'Placeholder item',
          'b2b.modal.includes.item3': 'Placeholder item',
          'b2b.modal.audience.title': 'Who it’s for',
          'b2b.modal.audience.item1': 'Placeholder list',
          'b2b.modal.audience.item2': 'Placeholder list',
          'b2b.modal.audience.item3': 'Placeholder list',
          'b2b.modal.custom.title': 'Customization',
          'b2b.modal.custom.text': 'Placeholder text about tailored solutions.',
          'b2b.modal.ops.title': 'Operational info',
          'b2b.modal.ops.where.label': 'Where',
          'b2b.modal.ops.where.text': 'Placeholder',
          'b2b.modal.ops.when.label': 'When',
          'b2b.modal.ops.when.text': 'Placeholder',
          'b2b.modal.ops.min.label': 'Minimum number of people',
          'b2b.modal.ops.min.text': 'Placeholder',
          'b2b.modal.ops.notes.label': 'Operational notes',
          'b2b.modal.ops.notes.text': 'Placeholder',
          'b2b.modal.cta': 'Request information',
          'gelato.showcase.title': 'Gelato Showcase',
          'gelato.showcase.subtitle': 'Explore flavors and filter by season or name.',
          'gelato.filters.season.label': 'Season',
          'gelato.filters.season.all': 'All',
          'gelato.filters.season.spring': 'Spring',
          'gelato.filters.season.summer': 'Summer',
          'gelato.filters.season.autumn': 'Autumn',
          'gelato.filters.season.winter': 'Winter',
          'gelato.filters.search.label': 'Search flavor',
          'gelato.filters.search.placeholder': 'Search by name...',
          'b2b.gelato.vascheButton': 'Tubs: show price list',
          'gelato.detail.empty': 'Select a flavor to see details.',
          'gelato.detail.ingredients': 'Ingredients',
          'gelato.detail.allergens': 'Allergens',
          'gelato.detail.seasons': 'Availability',
          'gelato.detail.flags': 'Parameters',
          'gelato.detail.none': 'None',
          'gelato.flags.vegan': 'Vegan',
          'gelato.flags.glutenFree': 'Gluten-free',
          'gelato.flags.lactoseFree': 'Lactose-free',
          'gelato.flags.containsEggs': 'Contains eggs',
          'gelato.flags.containsNuts': 'Contains nuts',
          'gelato.flags.containsAlcohol': 'Contains alcohol',
          'gelato.flags.yes': 'Yes',
          'gelato.flags.no': 'No',
          'gelato.seasons.tutti': 'All year',
          'gelato.seasons.primavera': 'Spring',
          'gelato.seasons.estate': 'Summer',
          'gelato.seasons.fine-estate': 'Late summer',
          'gelato.seasons.autunno': 'Autumn',
          'gelato.seasons.inverno': 'Winter',
          'gelato.empty': 'No flavors found',
          'gelato.flavors.fior-di-latte': 'Fior di latte',
          'gelato.flavors.stracciatella': 'Stracciatella',
          'gelato.flavors.cioccolato-fondente': 'Dark chocolate',
          'gelato.flavors.nocciola': 'Hazelnut',
          'gelato.flavors.pistacchio': 'Pistachio',
          'gelato.flavors.mandorla': 'Almond',
          'gelato.flavors.crema': 'Custard',
          'gelato.flavors.vaniglia': 'Vanilla',
          'gelato.flavors.caffe': 'Coffee',
          'gelato.flavors.tiramisu': 'Tiramisu',
          'gelato.flavors.caramello-salato': 'Salted caramel',
          'gelato.flavors.gianduia': 'Gianduia',
          'gelato.flavors.bacio': 'Bacio',
          'gelato.flavors.menta': 'Mint',
          'gelato.flavors.menta-cioccolato': 'Mint & chocolate',
          'gelato.flavors.amarena': 'Amarena',
          'gelato.flavors.yogurt': 'Yogurt',
          'gelato.flavors.limone': 'Lemon (sorbet)',
          'gelato.flavors.fragola': 'Strawberry (sorbet)',
          'gelato.flavors.lampone': 'Raspberry (sorbet)',
          'gelato.flavors.frutti-di-bosco': 'Mixed berries (sorbet)',
          'gelato.flavors.mango': 'Mango (sorbet)',
          'gelato.flavors.passion-fruit': 'Passion fruit (sorbet)',
          'gelato.flavors.cocco': 'Coconut',
          'gelato.flavors.banana': 'Banana',
          'gelato.flavors.rum-uvetta': 'Rum & raisin',
          'gelato.flavors.zabaione': 'Zabaglione',
          'gelato.flavors.liquirizia': 'Licorice',
          'gelato.flavors.cannella': 'Cinnamon',
          'gelato.flavors.arancia': 'Orange (sorbet)',
          'gelato.flavors.mandarino': 'Mandarin (sorbet)',
          'gelato.flavors.pistacchio-salato': 'Salted pistachio',
          'gelato.flavors.ricotta-pera': 'Ricotta & pear',
          'gelato.flavors.panna': 'Cream',
          'gelato.flavors.biscotto': 'Cookie',
          'gelato.flavors.cheesecake-frutti-rossi': 'Red berries cheesecake',
          'gelato.flavors.pesca': 'Peach (sorbet)',
          'gelato.flavors.albicocca': 'Apricot (sorbet)',
          'gelato.flavors.fico': 'Fig',
          'gelato.flavors.ananas': 'Pineapple (sorbet)',
          'gelato.flavors.sesamo': 'Sesame',
          'gelato.ingredients.latte': 'Milk',
          'gelato.ingredients.panna': 'Cream',
          'gelato.ingredients.zucchero': 'Sugar',
          'gelato.ingredients.cioccolato': 'Chocolate',
          'gelato.ingredients.cacao': 'Cocoa',
          'gelato.ingredients.nocciole': 'Hazelnuts',
          'gelato.ingredients.pistacchio': 'Pistachio',
          'gelato.ingredients.mandorle': 'Almonds',
          'gelato.ingredients.tuorlo': 'Egg yolk',
          'gelato.ingredients.vaniglia': 'Vanilla',
          'gelato.ingredients.caffe': 'Coffee',
          'gelato.ingredients.mascarpone': 'Mascarpone (placeholder)',
          'gelato.ingredients.caramello': 'Caramel',
          'gelato.ingredients.sale': 'Salt',
          'gelato.ingredients.menta': 'Mint',
          'gelato.ingredients.amarena': 'Sour cherry',
          'gelato.ingredients.yogurt': 'Yogurt',
          'gelato.ingredients.acqua': 'Water',
          'gelato.ingredients.limone': 'Lemon',
          'gelato.ingredients.fragola': 'Strawberry',
          'gelato.ingredients.lampone': 'Raspberry',
          'gelato.ingredients.frutti-di-bosco': 'Mixed berries',
          'gelato.ingredients.mango': 'Mango',
          'gelato.ingredients.frutto-passione': 'Passion fruit',
          'gelato.ingredients.cocco': 'Coconut',
          'gelato.ingredients.banana': 'Banana',
          'gelato.ingredients.uvetta': 'Raisins',
          'gelato.ingredients.rum': 'Rum (placeholder)',
          'gelato.ingredients.vino': 'Wine (placeholder)',
          'gelato.ingredients.liquirizia': 'Licorice',
          'gelato.ingredients.cannella': 'Cinnamon',
          'gelato.ingredients.arancia': 'Orange',
          'gelato.ingredients.mandarino': 'Mandarin',
          'gelato.ingredients.ricotta': 'Ricotta (placeholder)',
          'gelato.ingredients.pera': 'Pear',
          'gelato.ingredients.biscotto': 'Cookie (placeholder)',
          'gelato.ingredients.base-cheesecake': 'Cheesecake base (placeholder)',
          'gelato.ingredients.pesca': 'Peach',
          'gelato.ingredients.albicocca': 'Apricot',
          'gelato.ingredients.fico': 'Fig',
          'gelato.ingredients.ananas': 'Pineapple',
          'gelato.ingredients.sesamo': 'Sesame',
          'gelato.ingredients.base-latte-acqua': 'Milk or water base',
          'gelato.allergens.latte': 'Milk',
          'gelato.allergens.uova': 'Eggs',
          'gelato.allergens.frutta-guscio': 'Tree nuts',
          'gelato.allergens.glutine': 'Gluten',
          'gelato.allergens.sesamo': 'Sesame'
        },
        fr: {
          'meta.title': 'Badiani 1932 — B2B',
          'brand.alt': 'Badiani 1932',
          'topbar.label': 'Barre de marque',
          'lang.label': 'Sélecteur de langue',
          'lang.it': 'IT',
          'lang.en': 'EN',
          'lang.fr': 'FR',
          'lang.es': 'ES',
          'b2b.back': '← Retour à l’accueil',
          'b2b.tag': 'Parcours B2B',
          'b2b.hero.label': 'Hero B2B',
          'b2b.hero.title': 'Solutions B2B pour entreprises, hôtels et professionnels',
          'b2b.hero.subtitle': 'Expériences, produits et services pensés pour le business, l’hospitalité et le corporate',
          'b2b.hero.note': 'Projets personnalisables · Collaborations sur mesure · Support dédié',
          'b2b.target.label': 'À qui c’est dédié',
          'b2b.target.title': 'À qui c’est dédié',
          'b2b.target.item1': 'Entreprises et corporate',
          'b2b.target.item2': 'Hôtels et structures d’accueil',
          'b2b.target.item3': 'Tours opérateurs et agences',
          'b2b.target.item4': 'Event planners',
          'b2b.target.item5': 'Marques et partenaires commerciaux',
          'b2b.target.item6': 'Lieux privés et espaces événementiels',
          'b2b.areas.label': 'Zones B2B',
          'b2b.areas.title': 'Zones B2B',
          'b2b.categories.desc': 'Contenu en préparation.<br>Cette section sera enrichie avec des informations dédiées.',
          'b2b.categories.GELATO': 'GUSTI',
          'b2b.categories.VASCHE': 'BACS',
          'b2b.categories.PEZZI_DURI': 'PIÈCES DURES',
          'b2b.categories.TORTE': 'GÂTEAUX',
          'b2b.categories.SEMIFREDDI': 'SEMIFREDDI',
          'b2b.categories.BARATTOLI': 'BOCAUX',
          'b2b.categories.CONI_COPPETTE': 'CORNÉTS & COUPES',
          'b2b.categories.ACCESSORI': 'ACCESSOIRES',
          'b2b.categories.CONTENITORI': 'CONTENANTS',
          'b2b.experiences.label': 'Expériences B2B',
          'b2b.experiences.title': 'Expériences B2B',
          'b2b.experiences.item1': 'Événements B2B en salle réservée (avec ou sans turbines)',
          'b2b.experiences.item2': 'Collaborations avec hôtels et tours opérateurs',
          'b2b.experiences.item3': 'Expériences de laboratoire lors de journées dédiées',
          'b2b.steps.label': 'Comment ça marche',
          'b2b.steps.title': 'Comment ça marche',
          'b2b.steps.item1': 'Contact',
          'b2b.steps.item2': 'Analyse',
          'b2b.steps.item3': 'Proposition',
          'b2b.steps.item4': 'Confirmation',
          'b2b.steps.item5': 'Expérience',
          'b2b.cta.label': 'CTA final',
          'b2b.cta.title': 'Demander des informations',
          'b2b.cta.button': 'Demander des informations B2B',
          'b2b.cta.note': 'Chaque projet est construit sur mesure selon le contexte et les objectifs',
          'b2b.modal.titleDefault': 'Catégorie',
          'b2b.modal.close': 'Fermer',
          'b2b.modal.select': 'Sélectionner une catégorie',
          'b2b.modal.nav': 'Catégories B2B',
          'b2b.modal.overview.title': 'Aperçu',
          'b2b.modal.overview.text': 'Texte descriptif fictif.',
          'b2b.modal.includes.title': 'Ce qui est inclus',
          'b2b.modal.includes.item1': 'Élément fictif',
          'b2b.modal.includes.item2': 'Élément fictif',
          'b2b.modal.includes.item3': 'Élément fictif',
          'b2b.modal.audience.title': 'Pour qui',
          'b2b.modal.audience.item1': 'Liste fictive',
          'b2b.modal.audience.item2': 'Liste fictive',
          'b2b.modal.audience.item3': 'Liste fictive',
          'b2b.modal.custom.title': 'Personnalisation',
          'b2b.modal.custom.text': 'Texte fictif sur des solutions sur mesure.',
          'b2b.modal.ops.title': 'Infos opérationnelles',
          'b2b.modal.ops.where.label': 'Où',
          'b2b.modal.ops.where.text': 'Placeholder',
          'b2b.modal.ops.when.label': 'Quand',
          'b2b.modal.ops.when.text': 'Placeholder',
          'b2b.modal.ops.min.label': 'Nombre minimum de personnes',
          'b2b.modal.ops.min.text': 'Placeholder',
          'b2b.modal.ops.notes.label': 'Notes opérationnelles',
          'b2b.modal.ops.notes.text': 'Placeholder',
          'b2b.modal.cta': 'Demander des informations',
          'gelato.showcase.title': 'Vitrine Gelato',
          'gelato.showcase.subtitle': 'Découvrez les parfums et filtrez par saison ou par nom.',
          'gelato.filters.season.label': 'Saison',
          'gelato.filters.season.all': 'Tous',
          'gelato.filters.season.spring': 'Printemps',
          'gelato.filters.season.summer': 'Été',
          'gelato.filters.season.autumn': 'Automne',
          'gelato.filters.season.winter': 'Hiver',
          'gelato.filters.search.label': 'Rechercher un parfum',
          'gelato.filters.search.placeholder': 'Rechercher par nom...',
          'b2b.gelato.vascheButton': 'Bacs : afficher la liste',
          'gelato.detail.empty': 'Sélectionnez un parfum pour voir les détails.',
          'gelato.detail.ingredients': 'Ingrédients',
          'gelato.detail.allergens': 'Allergènes',
          'gelato.detail.seasons': 'Disponibilité',
          'gelato.detail.flags': 'Paramètres',
          'gelato.detail.none': 'Aucun',
          'gelato.flags.vegan': 'Vegan',
          'gelato.flags.glutenFree': 'Sans gluten',
          'gelato.flags.lactoseFree': 'Sans lactose',
          'gelato.flags.containsEggs': 'Contient des œufs',
          'gelato.flags.containsNuts': 'Contient des fruits à coque',
          'gelato.flags.containsAlcohol': 'Contient de l’alcool',
          'gelato.flags.yes': 'Oui',
          'gelato.flags.no': 'Non',
          'gelato.seasons.tutti': 'Toute l’année',
          'gelato.seasons.primavera': 'Printemps',
          'gelato.seasons.estate': 'Été',
          'gelato.seasons.fine-estate': 'Fin d’été',
          'gelato.seasons.autunno': 'Automne',
          'gelato.seasons.inverno': 'Hiver',
          'gelato.empty': 'Aucun parfum trouvé',
          'gelato.flavors.fior-di-latte': 'Fior di latte',
          'gelato.flavors.stracciatella': 'Stracciatella',
          'gelato.flavors.cioccolato-fondente': 'Chocolat noir',
          'gelato.flavors.nocciola': 'Noisette',
          'gelato.flavors.pistacchio': 'Pistache',
          'gelato.flavors.mandorla': 'Amande',
          'gelato.flavors.crema': 'Crème',
          'gelato.flavors.vaniglia': 'Vanille',
          'gelato.flavors.caffe': 'Café',
          'gelato.flavors.tiramisu': 'Tiramisu',
          'gelato.flavors.caramello-salato': 'Caramel salé',
          'gelato.flavors.gianduia': 'Gianduia',
          'gelato.flavors.bacio': 'Bacio',
          'gelato.flavors.menta': 'Menthe',
          'gelato.flavors.menta-cioccolato': 'Menthe & chocolat',
          'gelato.flavors.amarena': 'Amarena',
          'gelato.flavors.yogurt': 'Yaourt',
          'gelato.flavors.limone': 'Citron (sorbet)',
          'gelato.flavors.fragola': 'Fraise (sorbet)',
          'gelato.flavors.lampone': 'Framboise (sorbet)',
          'gelato.flavors.frutti-di-bosco': 'Fruits rouges (sorbet)',
          'gelato.flavors.mango': 'Mangue (sorbet)',
          'gelato.flavors.passion-fruit': 'Fruit de la passion (sorbet)',
          'gelato.flavors.cocco': 'Noix de coco',
          'gelato.flavors.banana': 'Banane',
          'gelato.flavors.rum-uvetta': 'Rhum et raisins',
          'gelato.flavors.zabaione': 'Zabaione',
          'gelato.flavors.liquirizia': 'Réglisse',
          'gelato.flavors.cannella': 'Cannelle',
          'gelato.flavors.arancia': 'Orange (sorbet)',
          'gelato.flavors.mandarino': 'Mandarine (sorbet)',
          'gelato.flavors.pistacchio-salato': 'Pistache salée',
          'gelato.flavors.ricotta-pera': 'Ricotta et poire',
          'gelato.flavors.panna': 'Crème',
          'gelato.flavors.biscotto': 'Biscuit',
          'gelato.flavors.cheesecake-frutti-rossi': 'Cheesecake aux fruits rouges',
          'gelato.flavors.pesca': 'Pêche (sorbet)',
          'gelato.flavors.albicocca': 'Abricot (sorbet)',
          'gelato.flavors.fico': 'Figue',
          'gelato.flavors.ananas': 'Ananas (sorbet)',
          'gelato.flavors.sesamo': 'Sésame',
          'gelato.ingredients.latte': 'Lait',
          'gelato.ingredients.panna': 'Crème',
          'gelato.ingredients.zucchero': 'Sucre',
          'gelato.ingredients.cioccolato': 'Chocolat',
          'gelato.ingredients.cacao': 'Cacao',
          'gelato.ingredients.nocciole': 'Noisettes',
          'gelato.ingredients.pistacchio': 'Pistache',
          'gelato.ingredients.mandorle': 'Amandes',
          'gelato.ingredients.tuorlo': 'Jaune d’œuf',
          'gelato.ingredients.vaniglia': 'Vanille',
          'gelato.ingredients.caffe': 'Café',
          'gelato.ingredients.mascarpone': 'Mascarpone (placeholder)',
          'gelato.ingredients.caramello': 'Caramel',
          'gelato.ingredients.sale': 'Sel',
          'gelato.ingredients.menta': 'Menthe',
          'gelato.ingredients.amarena': 'Amarena',
          'gelato.ingredients.yogurt': 'Yaourt',
          'gelato.ingredients.acqua': 'Eau',
          'gelato.ingredients.limone': 'Citron',
          'gelato.ingredients.fragola': 'Fraise',
          'gelato.ingredients.lampone': 'Framboise',
          'gelato.ingredients.frutti-di-bosco': 'Fruits rouges',
          'gelato.ingredients.mango': 'Mangue',
          'gelato.ingredients.frutto-passione': 'Fruit de la passion',
          'gelato.ingredients.cocco': 'Noix de coco',
          'gelato.ingredients.banana': 'Banane',
          'gelato.ingredients.uvetta': 'Raisins secs',
          'gelato.ingredients.rum': 'Rhum (placeholder)',
          'gelato.ingredients.vino': 'Vin (placeholder)',
          'gelato.ingredients.liquirizia': 'Réglisse',
          'gelato.ingredients.cannella': 'Cannelle',
          'gelato.ingredients.arancia': 'Orange',
          'gelato.ingredients.mandarino': 'Mandarine',
          'gelato.ingredients.ricotta': 'Ricotta (placeholder)',
          'gelato.ingredients.pera': 'Poire',
          'gelato.ingredients.biscotto': 'Biscuit (placeholder)',
          'gelato.ingredients.base-cheesecake': 'Base cheesecake (placeholder)',
          'gelato.ingredients.pesca': 'Pêche',
          'gelato.ingredients.albicocca': 'Abricot',
          'gelato.ingredients.fico': 'Figue',
          'gelato.ingredients.ananas': 'Ananas',
          'gelato.ingredients.sesamo': 'Sésame',
          'gelato.ingredients.base-latte-acqua': 'Lait ou eau (base)',
          'gelato.allergens.latte': 'Lait',
          'gelato.allergens.uova': 'Œufs',
          'gelato.allergens.frutta-guscio': 'Fruits à coque',
          'gelato.allergens.glutine': 'Gluten',
          'gelato.allergens.sesamo': 'Sésame'
        },
        es: {
          'meta.title': 'Badiani 1932 — B2B',
          'brand.alt': 'Badiani 1932',
          'topbar.label': 'Barra de marca',
          'lang.label': 'Selector de idioma',
          'lang.it': 'IT',
          'lang.en': 'EN',
          'lang.fr': 'FR',
          'lang.es': 'ES',
          'b2b.back': '← Volver al inicio',
          'b2b.tag': 'Ruta B2B',
          'b2b.hero.label': 'Hero B2B',
          'b2b.hero.title': 'Soluciones B2B para empresas, hoteles y profesionales',
          'b2b.hero.subtitle': 'Experiencias, productos y servicios pensados para el mundo business, hospitality y corporate',
          'b2b.hero.note': 'Proyectos personalizables · Colaboraciones a medida · Soporte dedicado',
          'b2b.target.label': 'A quién va dirigido',
          'b2b.target.title': 'A quién va dirigido',
          'b2b.target.item1': 'Empresas y corporate',
          'b2b.target.item2': 'Hoteles y estructuras de acogida',
          'b2b.target.item3': 'Turoperadores y agencias',
          'b2b.target.item4': 'Event planners',
          'b2b.target.item5': 'Marcas y socios comerciales',
          'b2b.target.item6': 'Ubicaciones privadas y espacios para eventos',
          'b2b.areas.label': 'Áreas B2B',
          'b2b.areas.title': 'Áreas B2B',
          'b2b.categories.desc': 'Contenido en preparación.<br>Esta sección se enriquecerá con información dedicada.',
          'b2b.categories.GELATO': 'GUSTI',
          'b2b.categories.VASCHE': 'CUBAS',
          'b2b.categories.PEZZI_DURI': 'PIEZAS DURAS',
          'b2b.categories.TORTE': 'TARTAS',
          'b2b.categories.SEMIFREDDI': 'SEMIFREDDI',
          'b2b.categories.BARATTOLI': 'TARROS',
          'b2b.categories.CONI_COPPETTE': 'CONOS & COPAS',
          'b2b.categories.ACCESSORI': 'ACCESORIOS',
          'b2b.categories.CONTENITORI': 'CONTENEDORES',
          'b2b.experiences.label': 'Experiencias B2B',
          'b2b.experiences.title': 'Experiencias B2B',
          'b2b.experiences.item1': 'Eventos B2B en sala reservada (con o sin mantecadoras)',
          'b2b.experiences.item2': 'Colaboraciones con hoteles y turoperadores',
          'b2b.experiences.item3': 'Experiencias de laboratorio en jornadas dedicadas',
          'b2b.steps.label': 'Cómo funciona',
          'b2b.steps.title': 'Cómo funciona',
          'b2b.steps.item1': 'Contacto',
          'b2b.steps.item2': 'Análisis',
          'b2b.steps.item3': 'Propuesta',
          'b2b.steps.item4': 'Confirmación',
          'b2b.steps.item5': 'Experiencia',
          'b2b.cta.label': 'CTA final',
          'b2b.cta.title': 'Solicitar información',
          'b2b.cta.button': 'Solicitar información B2B',
          'b2b.cta.note': 'Cada proyecto se construye a medida según el contexto y los objetivos',
          'b2b.modal.titleDefault': 'Categoría',
          'b2b.modal.close': 'Cerrar',
          'b2b.modal.select': 'Seleccionar categoría',
          'b2b.modal.nav': 'Categorías B2B',
          'b2b.modal.overview.title': 'Panorámica',
          'b2b.modal.overview.text': 'Texto descriptivo de ejemplo.',
          'b2b.modal.includes.title': 'Qué incluye',
          'b2b.modal.includes.item1': 'Elemento de ejemplo',
          'b2b.modal.includes.item2': 'Elemento de ejemplo',
          'b2b.modal.includes.item3': 'Elemento de ejemplo',
          'b2b.modal.audience.title': 'A quién va dirigido',
          'b2b.modal.audience.item1': 'Lista de ejemplo',
          'b2b.modal.audience.item2': 'Lista de ejemplo',
          'b2b.modal.audience.item3': 'Lista de ejemplo',
          'b2b.modal.custom.title': 'Personalización',
          'b2b.modal.custom.text': 'Texto de ejemplo sobre soluciones a medida.',
          'b2b.modal.ops.title': 'Info operativa',
          'b2b.modal.ops.where.label': 'Dónde',
          'b2b.modal.ops.where.text': 'Placeholder',
          'b2b.modal.ops.when.label': 'Cuándo',
          'b2b.modal.ops.when.text': 'Placeholder',
          'b2b.modal.ops.min.label': 'Número mínimo de personas',
          'b2b.modal.ops.min.text': 'Placeholder',
          'b2b.modal.ops.notes.label': 'Notas operativas',
          'b2b.modal.ops.notes.text': 'Placeholder',
          'b2b.modal.cta': 'Solicitar información',
          'gelato.showcase.title': 'Vitrina Gelato',
          'gelato.showcase.subtitle': 'Explora los sabores y filtra por temporada o nombre.',
          'gelato.filters.season.label': 'Temporada',
          'gelato.filters.season.all': 'Todos',
          'gelato.filters.season.spring': 'Primavera',
          'gelato.filters.season.summer': 'Verano',
          'gelato.filters.season.autumn': 'Otoño',
          'gelato.filters.season.winter': 'Invierno',
          'gelato.filters.search.label': 'Buscar sabor',
          'gelato.filters.search.placeholder': 'Buscar por nombre...',
          'b2b.gelato.vascheButton': 'Cubas: ver lista',
          'gelato.detail.empty': 'Selecciona un sabor para ver los detalles.',
          'gelato.detail.ingredients': 'Ingredientes',
          'gelato.detail.allergens': 'Alérgenos',
          'gelato.detail.seasons': 'Disponibilidad',
          'gelato.detail.flags': 'Parámetros',
          'gelato.detail.none': 'Ninguno',
          'gelato.flags.vegan': 'Vegano',
          'gelato.flags.glutenFree': 'Sin gluten',
          'gelato.flags.lactoseFree': 'Sin lactosa',
          'gelato.flags.containsEggs': 'Contiene huevos',
          'gelato.flags.containsNuts': 'Contiene frutos secos',
          'gelato.flags.containsAlcohol': 'Contiene alcohol',
          'gelato.flags.yes': 'Sí',
          'gelato.flags.no': 'No',
          'gelato.seasons.tutti': 'Todo el año',
          'gelato.seasons.primavera': 'Primavera',
          'gelato.seasons.estate': 'Verano',
          'gelato.seasons.fine-estate': 'Finales de verano',
          'gelato.seasons.autunno': 'Otoño',
          'gelato.seasons.inverno': 'Invierno',
          'gelato.empty': 'No se encontraron sabores',
          'gelato.flavors.fior-di-latte': 'Fior di latte',
          'gelato.flavors.stracciatella': 'Stracciatella',
          'gelato.flavors.cioccolato-fondente': 'Chocolate negro',
          'gelato.flavors.nocciola': 'Avellana',
          'gelato.flavors.pistacchio': 'Pistacho',
          'gelato.flavors.mandorla': 'Almendra',
          'gelato.flavors.crema': 'Crema',
          'gelato.flavors.vaniglia': 'Vainilla',
          'gelato.flavors.caffe': 'Café',
          'gelato.flavors.tiramisu': 'Tiramisú',
          'gelato.flavors.caramello-salato': 'Caramelo salado',
          'gelato.flavors.gianduia': 'Gianduia',
          'gelato.flavors.bacio': 'Bacio',
          'gelato.flavors.menta': 'Menta',
          'gelato.flavors.menta-cioccolato': 'Menta y chocolate',
          'gelato.flavors.amarena': 'Amarena',
          'gelato.flavors.yogurt': 'Yogur',
          'gelato.flavors.limone': 'Limón (sorbete)',
          'gelato.flavors.fragola': 'Fresa (sorbete)',
          'gelato.flavors.lampone': 'Frambuesa (sorbete)',
          'gelato.flavors.frutti-di-bosco': 'Frutos del bosque (sorbete)',
          'gelato.flavors.mango': 'Mango (sorbete)',
          'gelato.flavors.passion-fruit': 'Maracuyá (sorbete)',
          'gelato.flavors.cocco': 'Coco',
          'gelato.flavors.banana': 'Banana',
          'gelato.flavors.rum-uvetta': 'Ron y pasas',
          'gelato.flavors.zabaione': 'Zabaione',
          'gelato.flavors.liquirizia': 'Regaliz',
          'gelato.flavors.cannella': 'Canela',
          'gelato.flavors.arancia': 'Naranja (sorbete)',
          'gelato.flavors.mandarino': 'Mandarina (sorbete)',
          'gelato.flavors.pistacchio-salato': 'Pistacho salado',
          'gelato.flavors.ricotta-pera': 'Ricotta y pera',
          'gelato.flavors.panna': 'Nata',
          'gelato.flavors.biscotto': 'Galleta',
          'gelato.flavors.cheesecake-frutti-rossi': 'Cheesecake de frutos rojos',
          'gelato.flavors.pesca': 'Melocotón (sorbete)',
          'gelato.flavors.albicocca': 'Albaricoque (sorbete)',
          'gelato.flavors.fico': 'Higo',
          'gelato.flavors.ananas': 'Piña (sorbete)',
          'gelato.flavors.sesamo': 'Sésamo',
          'gelato.ingredients.latte': 'Leche',
          'gelato.ingredients.panna': 'Nata',
          'gelato.ingredients.zucchero': 'Azúcar',
          'gelato.ingredients.cioccolato': 'Chocolate',
          'gelato.ingredients.cacao': 'Cacao',
          'gelato.ingredients.nocciole': 'Avellanas',
          'gelato.ingredients.pistacchio': 'Pistacho',
          'gelato.ingredients.mandorle': 'Almendras',
          'gelato.ingredients.tuorlo': 'Yema de huevo',
          'gelato.ingredients.vaniglia': 'Vainilla',
          'gelato.ingredients.caffe': 'Café',
          'gelato.ingredients.mascarpone': 'Mascarpone (placeholder)',
          'gelato.ingredients.caramello': 'Caramelo',
          'gelato.ingredients.sale': 'Sal',
          'gelato.ingredients.menta': 'Menta',
          'gelato.ingredients.amarena': 'Amarena',
          'gelato.ingredients.yogurt': 'Yogur',
          'gelato.ingredients.acqua': 'Agua',
          'gelato.ingredients.limone': 'Limón',
          'gelato.ingredients.fragola': 'Fresa',
          'gelato.ingredients.lampone': 'Frambuesa',
          'gelato.ingredients.frutti-di-bosco': 'Frutos del bosque',
          'gelato.ingredients.mango': 'Mango',
          'gelato.ingredients.frutto-passione': 'Maracuyá',
          'gelato.ingredients.cocco': 'Coco',
          'gelato.ingredients.banana': 'Banana',
          'gelato.ingredients.uvetta': 'Pasas',
          'gelato.ingredients.rum': 'Ron (placeholder)',
          'gelato.ingredients.vino': 'Vino (placeholder)',
          'gelato.ingredients.liquirizia': 'Regaliz',
          'gelato.ingredients.cannella': 'Canela',
          'gelato.ingredients.arancia': 'Naranja',
          'gelato.ingredients.mandarino': 'Mandarina',
          'gelato.ingredients.ricotta': 'Ricotta (placeholder)',
          'gelato.ingredients.pera': 'Pera',
          'gelato.ingredients.biscotto': 'Galleta (placeholder)',
          'gelato.ingredients.base-cheesecake': 'Base de cheesecake (placeholder)',
          'gelato.ingredients.pesca': 'Melocotón',
          'gelato.ingredients.albicocca': 'Albaricoque',
          'gelato.ingredients.fico': 'Higo',
          'gelato.ingredients.ananas': 'Piña',
          'gelato.ingredients.sesamo': 'Sésamo',
          'gelato.ingredients.base-latte-acqua': 'Leche o agua (base)',
          'gelato.allergens.latte': 'Leche',
          'gelato.allergens.uova': 'Huevos',
          'gelato.allergens.frutta-guscio': 'Frutos secos',
          'gelato.allergens.glutine': 'Gluten',
          'gelato.allergens.sesamo': 'Sésamo'
        }
      };

      const CATEGORY_DATA = {
        'VASCHE': {
          title: 'Vaschette',
          columns: ['Gusto', 'Prezzo per kg'],
          rows: [
            ['Bacio', '€12.00'],
            ['Banana', '€10.00'],
            ['Buontalenti', '€10.00'],
            ['Buontalenti Caramello', '€12.00'],
            ['Buontalenti Delattosato', '€12.00'],
            ['Buontalenti Fondente', '€12.00'],
            ['Buontalenti Pistacchio', '€18.00'],
            ['Caffè', '€10.00'],
            ['Caramello al Burro Salato', '€14.00'],
            ['Cassandra Delattosata', '€14.00'],
            ['Cheesecake', '€16.00'],
            ['Cioccolata', '€10.00'],
            ['Cioccolata all Arancia', '€14.00'],
            ['Cioccoriso', '€12.00'],
            ['Cocco', '€12.00'],
            ['Cremino', '€14.00'],
            ['La Dolcevita', '€14.00'],
            ['Nocciola', '€14.00'],
            ['Pistacchio', '€16.00'],
            ['Sorbetto: Albicocca', '€12.00'],
            ['Sorbetto: Cioccolato Monorigine Venezuela', '€14.00'],
            ['Sorbetto: Fragola', '€10.00'],
            ['Sorbetto: Frutto della Passione', '€12.00'],
            ['Sorbetto: Lampone', '€12.00'],
            ['Sorbetto: Limone', '€10.00'],
            ['Sorbetto: Mango', '€12.00'],
            ['Sorbetto: Pera', '€12.00'],
            ['Sorbetto Tropical Summer', '€12.00'],
            ['Stracciatella', '€12.00'],
            ['Stracciatella alla menta', '€12.00'],
            ['Vaniglia', '€14.00'],
            ['Yogurt', '€12.00']
          ]
        },
        'PEZZI DURI': {
          title: 'Pezzi duri',
          columns: ['Gusto', 'Prezzo unità', 'Peso medio unità', 'Ordine minimo*'],
          rows: [
            ['Classico Buontalenti', '€2.20', '90 g', '24'],
            ['Classico Stracciatella', '€2.20', '100 g', '24'],
            ['Classico Fondente', '€2.20', '100 g', '24'],
            ['Tavoletta Buontalenti e cioccolato', '€2.50', '110 g', '24'],
            ['Cuore di Buontalenti fondente', '€2.50', '110 g', '16'],
            ['Cuore di Buontalenti alla fragola', '€2.50', '110 g', '16'],
            ['Biscotto Buontalenti', '€2.20', '110 g', '12'],
            ['Biscotto Stracciatella', '€2.20', '110 g', '12'],
            ['Donut cioccolato', '€2.50', '90 g', '16'],
            ['Donut cioccolato bianco', '€2.50', '90 g', '16'],
            ['Donut cioccolato alla fragola', '€2.50', '90 g', '16'],
            ['Donut cioccolato al pistacchio', '€2.50', '90 g', '16'],
            ['Fruit Tube Limone', '€2.20', '120 g', '16'],
            ['Fruit Tube Menta', '€2.20', '120 g', '16'],
            ['Fruit Tube Fragola', '€2.00', '120 g', '16'],
            ['Ghiacciolo di frutta alla fragola', '€2.20', '100 g', '20'],
            ['Ghiacciolo di frutta al limone', '€2.00', '100 g', '20'],
            ['Ghiacciolo di frutta la mango', '€2.00', '100 g', '20'],
            ['Ghiacciolo alla menta', '€2.00', '100 g', '20'],
            ['Lingotto', '€2.00', '60 g', '96'],
            ['Zampa', '€3.00', '150 g', '16']
          ]
        },
        'TORTE': {
          title: 'Torte',
          columns: ['Gusto', 'Prezzo per kg'],
          rows: [
            ['Millefoglie Buontalenti', '€ 22.00/Kg'],
            ['Millefoglie Buontalenti con salsa Dolcevita (Nocciole e cacao)', '€ 24.00/Kg'],
            ['Millefoglie Buontalenti con salsa Pistacchio', '€ 28.00/Kg']
          ]
        },
        'CONI_COPPETTE': {
          title: 'Coni & Coppette',
          columns: ['Prodotto', 'Descrizione', 'Quantità', 'Prezzo'],
          rows: [
            ['Sottozero', 'Coni Piccoli', '264 pz', '€ 30.00'],
            ['Maxi 1', 'Coni Medi', '220 pz', '€ 30.00'],
            ['Maxi 2', 'Coni Grandi', '216 pz', '€ 30.00'],
            ['Coni Gluten free (083)', '1^ misura', '240 pz', '€ 45.00'],
            ['Coni Gluten free (084)', '2^ misura', '212 pz', '€ 45.00'],
            ['Bicchierini 16B', 'Coppette piccole 80cc', '250 pz', '€ 27.00'],
            ['Bicchierini 108', 'Coppette medie 120cc', '250 pz', '€ 30.00'],
            ['Bicchierini 4C', 'Coppette grandi 160cc', '200 pz', '€ 22.50'],
            ['Bicchierini 4CA', 'Coppette XL 200cc', '200 pz', '€ 22.50']
          ]
        },
        'ACCESSORI': {
          title: 'Accessori',
          columns: ['Prodotto', 'Descrizione', 'Quantità', 'Prezzo'],
          rows: [
            ['Hawaii', 'Palettine gelato', '1 Kg', '€ 15.00'],
            ['Cialdine', 'Cialdine logate Badiani', '1200pz', '€ 45.00'],
            ['Tovagliolini stampati', 'Salviettine logate Badiani 17x17', '40 pacchetti', '€ 45.00']
          ]
        },
        'CONTENITORI': {
          title: 'Contenitori',
          columns: ['Prodotto', 'Descrizione', 'Quantità', 'Prezzo'],
          rows: [
            ['RE-MAXIGEL 350', 'Vaschetta asporto gelato piccola (ottenuta dal riciclo della plastica)', '60 pz', '€ 55.00'],
            ['RE-MAGIGEL 500', 'Vaschetta asporto gelato media (ottenuta dal riciclo della plastica)', '60 pz', '€ 55.00'],
            ['RE-MAXIGEL 750', 'Vaschetta asporto gelato grande (ottenuta dal riciclo della plastica)', '60 pz', '€ 75.00'],
            ['RE-MAXIGEL 1000', 'Vaschetta asporto gelato XL (ottenuta dal riciclo della plastica)', '60 pz', '€ 87.50'],
            ['Contenitore polistirolo T2', 'Contenitore rettangolare in polistirolo 140x110x100', '80 pz', '€ 240.00']
          ]
        }
      };

      const CATEGORY_NOTES = {
        'PEZZI DURI': '*ordine minimo o multipli'
      };

      const PEZZI_DURI_IMAGES = {
        'Classico Buontalenti': '../foto_pezziduri/bianco.png',
        'Classico Stracciatella': '../foto_pezziduri/stracciatella.png',
        'Biscotto Buontalenti': '../foto_pezziduri/biscotto.png',
        'Biscotto Stracciatella': '../foto_pezziduri/biscotto.png',
        'Cuore di Buontalenti fondente': '../foto_pezziduri/cuore.png',
        'Cuore di Buontalenti alla fragola': '../foto_pezziduri/cuore.png',
        'Donut cioccolato': '../foto_pezziduri/pinguino tondo.png',
        'Donut cioccolato bianco': '../foto_pezziduri/pinguino1 bianco.png',
        'Donut cioccolato alla fragola': '../foto_pezziduri/rosa.png',
        'Donut cioccolato al pistacchio': '../foto_pezziduri/pistacchio .png',
        'Zampa': '../foto_pezziduri/zampetta.png'
      };

      const TORTE_IMAGES = {
        'Millefoglie Buontalenti': {
          small: '../foto_torte/millefoglie buontalenti s.png',
          large: '../foto_torte/millefoglie buontalenti L.png'
        },
        'Millefoglie Buontalenti con salsa Dolcevita (Nocciole e cacao)': {
          small: '../foto_torte/la dolcevita s.png',
          large: '../foto_torte/la dolcevita L.png'
        },
        'Millefoglie Buontalenti con salsa Pistacchio': {
          small: '../foto_torte/buontalenti pistacchio s.png',
          large: '../foto_torte/buontalenti pistacchio L.png'
        }
      };

      const PRICING_NOTE = 'Prezzi IVA esclusa.';
      const SHIPPING_INFO = [
        "All'interno del comune di Firenze: costo di spedizione gratuita, il listino è valido per minimo 250 EUR per ordine (IVA esclusa);",
        'gli ordini devono essere inviati con almeno 48 ore di preavviso;',
        'nelle zone a traffico limitato, le consegne saranno effettuate in accordanza con i limiti orari di entrata e uscita.',
        'Per spedizioni al di fuori del comune di Firenze: quotazione su richiesta, modalità e tempi di consegna da stabilire.'
      ];

      function normalizeLang(lang){
        if(!lang) return DEFAULT_LANG;
        const base = String(lang).toLowerCase().split('-')[0];
        return SUPPORTED.includes(base) ? base : DEFAULT_LANG;
      }

      function getInitialLang(){
        try{
          const params = new URLSearchParams(window.location.search || '');
          const q = params.get('lang');
          if(q) return normalizeLang(q);
        }catch{}
        try{
          const saved = localStorage.getItem(STORAGE_KEY);
          if(saved) return normalizeLang(saved);
        }catch{}
        return normalizeLang(navigator.language || DEFAULT_LANG);
      }

      let currentLang = getInitialLang();

      function t(key){
        const dict = STRINGS[currentLang] || STRINGS[DEFAULT_LANG];
        return dict && dict[key] ? dict[key] : '';
      }

      const modal = document.getElementById('categoryModal');
      const title = document.getElementById('categoryModalTitle');
      const closeBtn = modal.querySelector('.modal__close');
      const cards = document.querySelectorAll('.category-card[data-category]');
      const nav = document.getElementById('categoryNav');
      const select = document.getElementById('categorySelect');
      const gelatoShowcase = document.getElementById('gelatoShowcase');
      const gelatoGrid = document.getElementById('gelatoGrid');
      const gelatoDetail = document.getElementById('gelatoDetail');
      const gelatoSearch = document.getElementById('gelatoSearch');
      const vascheToggle = document.getElementById('vascheToggle');
      const vascheContent = document.getElementById('vascheContent');
      const defaultContent = document.getElementById('b2bDefaultContent');
      let expandedFlavorId = '';
      let expandedTorteId = '';
      let expandedPezziDuriId = '';
      const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const ASSET_VERSION = '20260207';
      const gelatoById = new Map(gelatoFlavors.map((flavor) => [flavor.id, flavor]));
      const gelatoImageCache = new Set();

      const categories = Array.from(cards).map((card) => card.getAttribute('data-category'));
      let activeCategory = categories[0] || '';

      function categoryLabel(name){
        if(!name) return t('b2b.modal.titleDefault');
        const key = `b2b.categories.${name.replace(/\s+/g, '_')}`;
        return t(key) || name;
      }

      function seasonLabel(season){
        return tGelato(`seasons.${season}`) || season;
      }

      function matchesSeason(flavor, season){
        if(season === 'tutti') return true;
        if(flavor.seasons.includes(season)) return true;
        return false;
      }

      function renderTableSection({ title, columns, rows }){
        if(!columns || !columns.length || !rows || !rows.length) return '';
        const head = `
          <thead>
            <tr>${columns.map((col) => `<th>${col}</th>`).join('')}</tr>
          </thead>
        `;
        const body = `
          <tbody>
            ${rows.map((row) => `<tr>${row.map((cell) => `<td>${cell}</td>`).join('')}</tr>`).join('')}
          </tbody>
        `;
        return `
          <div class="modal__section">
            <h4>${title}</h4>
            <div class="modal__table-wrap">
              <table class="modal__table">
                ${head}
                ${body}
              </table>
            </div>
          </div>
        `;
      }

      function renderListSection(title, items){
        if(!items || !items.length) return '';
        return `
          <div class="modal__section">
            <h4>${title}</h4>
            <ul class="list">
              ${items.map((item) => `<li>${item}</li>`).join('')}
            </ul>
          </div>
        `;
      }

      function renderVascheSection(){
        const data = CATEGORY_DATA['VASCHE'];
        if(!data) return '';
        return renderTableSection(data);
      }

      function renderPezziDuriGallery(rows){
        if(!rows || !rows.length) return '';
        const cards = rows
          .map(([name, price, weight, min]) => {
            const src = PEZZI_DURI_IMAGES[name];
            if(!src) return '';
            const imageSrc = encodeURI(src);
            const isExpanded = expandedPezziDuriId === name;
            return `
              <article class="pezziduri-card${isExpanded ? ' is-expanded' : ''}" data-pezziduri-id="${name}" role="button" tabindex="0" aria-expanded="${isExpanded ? 'true' : 'false'}">
                <div class="pezziduri-media">
                  <img src="${imageSrc}" alt="${name}" loading="lazy" decoding="async" />
                </div>
                <div class="pezziduri-body">
                  <div class="pezziduri-title">${name}</div>
                  <div class="pezziduri-meta">
                    <span><strong>Prezzo</strong><em>${price}</em></span>
                    <span><strong>Peso medio</strong><em>${weight}</em></span>
                    <span><strong>Ordine minimo</strong><em>${min}</em></span>
                  </div>
                </div>
              </article>
            `;
          })
          .filter(Boolean)
          .join('');

        return `
          <div class="modal__section">
            <h4>${CATEGORY_DATA['PEZZI DURI'].title}</h4>
            <div class="pezziduri-grid">${cards}</div>
          </div>
        `;
      }

      function renderTorteGallery(rows){
        if(!rows || !rows.length) return '';
        const cards = rows
          .map(([name, price]) => {
            const images = TORTE_IMAGES[name];
            if(!images) return '';
            const smallSrc = encodeURI(images.small);
            const largeSrc = encodeURI(images.large);
            const isExpanded = expandedTorteId === name;
            return `
              <article class="torte-card${isExpanded ? ' is-expanded' : ''}" data-torte-id="${name}" role="button" tabindex="0" aria-expanded="${isExpanded ? 'true' : 'false'}">
                <div class="torte-media">
                  <figure>
                    <img src="${smallSrc}" alt="${name} S" loading="lazy" decoding="async" />
                    <figcaption>S</figcaption>
                  </figure>
                  <figure>
                    <img src="${largeSrc}" alt="${name} L" loading="lazy" decoding="async" />
                    <figcaption>L</figcaption>
                  </figure>
                </div>
                <div class="torte-body">
                  <div class="torte-title">${name}</div>
                  <div class="torte-price"><strong>Prezzo per kg</strong><em>${price}</em></div>
                </div>
              </article>
            `;
          })
          .filter(Boolean)
          .join('');

        return `
          <div class="modal__section">
            <h4>${CATEGORY_DATA['TORTE'].title}</h4>
            <div class="torte-grid">${cards}</div>
          </div>
        `;
      }

      function setupTorteZoom(){
        const cards = defaultContent ? defaultContent.querySelectorAll('.torte-card[data-torte-id]') : [];
        cards.forEach((card) => {
          const id = card.dataset.torteId;
          if(!id) return;
          card.addEventListener('click', () => {
            expandedTorteId = expandedTorteId === id ? '' : id;
            renderCategoryContent('TORTE');
          });
          card.addEventListener('keydown', (event) => {
            if(event.key === 'Enter' || event.key === ' '){
              event.preventDefault();
              expandedTorteId = expandedTorteId === id ? '' : id;
              renderCategoryContent('TORTE');
            }
          });
        });
      }

      function setupPezziDuriZoom(){
        const cards = defaultContent ? defaultContent.querySelectorAll('.pezziduri-card[data-pezziduri-id]') : [];
        cards.forEach((card) => {
          const id = card.dataset.pezziduriId;
          if(!id) return;
          card.addEventListener('click', () => {
            expandedPezziDuriId = expandedPezziDuriId === id ? '' : id;
            renderCategoryContent('PEZZI DURI');
          });
          card.addEventListener('keydown', (event) => {
            if(event.key === 'Enter' || event.key === ' '){
              event.preventDefault();
              expandedPezziDuriId = expandedPezziDuriId === id ? '' : id;
              renderCategoryContent('PEZZI DURI');
            }
          });
        });
      }

      function renderCategoryContent(category){
        if(!defaultContent) return;
        const data = CATEGORY_DATA[category];
        if(!data){
          defaultContent.innerHTML = '';
          return;
        }
        const note = CATEGORY_NOTES[category];
        const sections = [
          `<div class="modal__section"><p class="modal__note">${PRICING_NOTE}</p></div>`
        ];

        if(category === 'PEZZI DURI'){
          sections.push(renderPezziDuriGallery(data.rows));
        }else if(category === 'TORTE'){
          sections.push(renderTorteGallery(data.rows));
        }else{
          sections.push(renderTableSection(data));
        }

        if(note){
          sections.push(`<div class="modal__section"><p class="pezziduri-note">${note}</p></div>`);
        }

        if(category === 'TORTE'){
          requestAnimationFrame(setupTorteZoom);
        }
        if(category === 'PEZZI DURI'){
          requestAnimationFrame(setupPezziDuriZoom);
        }

        sections.push(renderListSection('Spedizione', SHIPPING_INFO));
        defaultContent.innerHTML = sections.join('');
      }

      function renderGelatoDetail(flavor){
        if(!gelatoDetail) return;
        if(!flavor){
          gelatoDetail.innerHTML = `<div class=\"gelato-empty\">${tGelato('vetrinaGelato.selectFlavorHint')}</div>`;
          gelatoDetail.classList.add('is-collapsed');
          gelatoDetail.classList.remove('is-open');
          return;
        }

        const ingredients = tGelato('flavorDetail.placeholderIngredients');
        const allergens = tGelato('flavorDetail.placeholderAllergens');
        const seasons = flavor.seasons.map((season) => seasonLabel(season)).join(', ');
        const flags = [
          ['flags.vegan', flavor.flags.vegan],
          ['flags.glutenFree', flavor.flags.glutenFree],
          ['flags.lactoseFree', flavor.flags.lactoseFree],
          ['flags.containsEggs', flavor.flags.containsEggs],
          ['flags.containsNuts', flavor.flags.containsNuts],
          ['flags.containsAlcohol', flavor.flags.containsAlcohol]
        ];

        const flavorLabel = tGelato(flavor.nameKey) || flavor.label || flavor.id;
        gelatoDetail.innerHTML = `
          <div class=\"gelato-detail__header\">
            <div class=\"gelato-section-title\">${tGelato('flavorDetail.title')}</div>
            <button class=\"gelato-detail__close\" type=\"button\">${tGelato('common.close')}</button>
          </div>
          <h4>${flavorLabel}</h4>
          <div>
            <div class=\"gelato-section-title\">${tGelato('flavorDetail.ingredients')}</div>
            <div class="gelato-list">${ingredients}</div>
          </div>
          <div>
            <div class=\"gelato-section-title\">${tGelato('flavorDetail.allergens')}</div>
            <div class="gelato-list">${allergens}</div>
          </div>
          <div>
            <div class=\"gelato-section-title\">${tGelato('flavorDetail.availability')}</div>
            <div class="gelato-list">${seasons}</div>
          </div>
          <div>
            <div class=\"gelato-section-title\">${tGelato('flavorDetail.parameters')}</div>
            <div class="gelato-flags">
              ${flags.map(([label, value]) => `
                <div class="gelato-flag">
                  <span>${tGelato(label)}</span>
                  <strong>${value ? '✓' : '—'}</strong>
                </div>
              `).join('')}
            </div>
          </div>
          <div>
            <div class=\"gelato-section-title\">${tGelato('flavorDetail.notes')}</div>
            <div class="gelato-list">${tGelato('flavorDetail.placeholderNotes')}</div>
          </div>
          <div>
            <a class=\"cta-button\" href=\"#\">${tGelato('common.requestInfo')}</a>
          </div>
        `;

        gelatoDetail.classList.remove('is-collapsed');
        gelatoDetail.classList.add('is-open');

        const closeBtn = gelatoDetail.querySelector('.gelato-detail__close');
        if(closeBtn){
          closeBtn.addEventListener('click', () => {
            gelatoDetail.classList.add('is-collapsed');
            gelatoDetail.classList.remove('is-open');
          });
        }
      }

      function buildGelatoDetailsHTML(flavor){
        const seasons = flavor.seasons.map((season) => seasonLabel(season)).join(', ');
        const flags = [
          ['flags.vegan', flavor.flags.vegan],
          ['flags.glutenFree', flavor.flags.glutenFree],
          ['flags.lactoseFree', flavor.flags.lactoseFree],
          ['flags.containsEggs', flavor.flags.containsEggs],
          ['flags.containsNuts', flavor.flags.containsNuts],
          ['flags.containsAlcohol', flavor.flags.containsAlcohol]
        ];
        return `
          <div>
            <div class="gelato-section-title">${tGelato('flavorDetail.ingredients')}</div>
            <div class="gelato-list">${tGelato('flavorDetail.placeholderIngredients')}</div>
          </div>
          <div>
            <div class="gelato-section-title">${tGelato('flavorDetail.allergens')}</div>
            <div class="gelato-list">${tGelato('flavorDetail.placeholderAllergens')}</div>
          </div>
          <div>
            <div class="gelato-section-title">${tGelato('flavorDetail.availability')}</div>
            <div class="gelato-list">${seasons}</div>
          </div>
          <div>
            <div class="gelato-section-title">${tGelato('flavorDetail.parameters')}</div>
            <div class="gelato-flags">
              ${flags.map(([label, value]) => `
                <div class="gelato-flag">
                  <span>${tGelato(label)}</span>
                  <strong>${value ? '✓' : '—'}</strong>
                </div>
              `).join('')}
            </div>
          </div>
        `;
      }

      function cacheImage(src, onload){
        if(!src) return;
        if(gelatoImageCache.has(src)){
          if(typeof onload === 'function') onload();
          return;
        }
        const img = new Image();
        img.onload = () => {
          gelatoImageCache.add(src);
          if(typeof onload === 'function') onload();
        };
        img.src = `${encodeURI(src)}?v=${ASSET_VERSION}`;
      }

      function updateGelatoCardImage(img, baseSrc, detailSrc, isExpanded){
        if(!img) return;
        if(!detailSrc || !isExpanded){
          img.dataset.detailSrc = '';
          img.src = `${encodeURI(baseSrc)}?v=${ASSET_VERSION}`;
          return;
        }
        img.dataset.detailSrc = detailSrc;
        if(gelatoImageCache.has(detailSrc)){
          img.src = `${encodeURI(detailSrc)}?v=${ASSET_VERSION}`;
          return;
        }
        cacheImage(detailSrc, () => {
          if(!img.isConnected) return;
          const card = img.closest('.gelato-card');
          if(!card || !card.classList.contains('is-expanded')) return;
          if(img.dataset.detailSrc !== detailSrc) return;
          img.src = `${encodeURI(detailSrc)}?v=${ASSET_VERSION}`;
        });
        img.src = `${encodeURI(baseSrc)}?v=${ASSET_VERSION}`;
      }

      function getBaseImageSrc(flavor){
        const baseSrc = flavor.image;
        if(window.matchMedia && window.matchMedia('(max-width: 768px)').matches){
          if(baseSrc && baseSrc.endsWith('.webp')){
            return baseSrc.replace(/\.webp$/i, '-thumb.webp');
          }
        }
        return baseSrc;
      }

      function setGelatoCardExpanded(card, flavor, isExpanded){
        card.classList.toggle('is-expanded', isExpanded);
        card.classList.toggle('is-selected', isExpanded);
        card.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
        const img = card.querySelector('img');
        const baseSrc = getBaseImageSrc(flavor);
        updateGelatoCardImage(img, baseSrc, flavor.detailImage, isExpanded);
        const existing = card.querySelector('.gelato-card__details');
        if(isExpanded){
          const details = existing || document.createElement('div');
          details.className = 'gelato-card__details';
          details.innerHTML = buildGelatoDetailsHTML(flavor);
          if(!existing) card.appendChild(details);
        }else if(existing){
          existing.remove();
        }
      }

      function renderGelatoGrid(){
        if(!gelatoGrid) return;
        const season = 'tutti';
        const query = gelatoSearch ? gelatoSearch.value.trim().toLowerCase() : '';
        const filtered = gelatoFlavors.filter((flavor) => {
          const name = (tGelato(flavor.nameKey) || flavor.label || flavor.id).toLowerCase();
          const matchSeason = matchesSeason(flavor, season);
          const matchQuery = !query || name.includes(query);
          return matchSeason && matchQuery;
        });

        if(!filtered.length){
          gelatoGrid.innerHTML = `<div class=\"gelato-empty\">${tGelato('common.noResults')}</div>`;
          expandedFlavorId = '';
          return;
        }

        gelatoGrid.innerHTML = '';
        filtered.forEach((flavor) => {
          const btn = document.createElement('button');
          btn.type = 'button';
          const tubClass = flavor.isTub ? ' gelato-card--tub' : '';
          btn.className = `gelato-card${tubClass}`;
          btn.dataset.flavorId = flavor.id;
          btn.setAttribute('aria-expanded', 'false');
          const flavorName = tGelato(flavor.nameKey) || flavor.label || flavor.id;
          const baseSrc = getBaseImageSrc(flavor);
          const imageUrl = `${encodeURI(baseSrc)}?v=${ASSET_VERSION}`;
          const mediaBlock = `
            <div class=\"gelato-card__media\">
              <img src=\"${imageUrl}\" alt=\"${flavorName}\" loading=\"lazy\" decoding=\"async\" />
            </div>
            <span>${flavorName}</span>
          `;
          btn.innerHTML = mediaBlock;
          cacheImage(baseSrc);

          btn.addEventListener('click', () => {
            const nextId = expandedFlavorId === flavor.id ? '' : flavor.id;
            if(expandedFlavorId){
              const prev = gelatoGrid.querySelector(`[data-flavor-id=\"${expandedFlavorId}\"]`);
              const prevFlavor = gelatoById.get(expandedFlavorId);
              if(prev && prevFlavor){
                setGelatoCardExpanded(prev, prevFlavor, false);
              }
            }
            expandedFlavorId = nextId;
            if(nextId){
              setGelatoCardExpanded(btn, flavor, true);
              if(!prefersReducedMotion){
                btn.scrollIntoView({ block: 'nearest' });
              }
            }
          });
          btn.addEventListener('keydown', (event) => {
            if(event.key === 'Enter' || event.key === ' '){
              event.preventDefault();
              btn.click();
            }
          });

          gelatoGrid.appendChild(btn);
          if(expandedFlavorId === flavor.id){
            setGelatoCardExpanded(btn, flavor, true);
          }
        });
      }

      function renderCategoryNav(){
        if(!nav || !select) return;
        nav.innerHTML = '';
        select.innerHTML = '';
        categories.forEach((name) => {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.dataset.category = name;
          btn.textContent = categoryLabel(name);
          btn.addEventListener('click', () => setActiveCategory(name));
          nav.appendChild(btn);

          const opt = document.createElement('option');
          opt.value = name;
          opt.textContent = categoryLabel(name);
          select.appendChild(opt);
        });
      }

      function setActiveCategory(name){
        activeCategory = name || categories[0];
        title.textContent = categoryLabel(activeCategory);
        nav.querySelectorAll('button').forEach((btn) => {
          btn.classList.toggle('is-active', btn.dataset.category === activeCategory);
        });
        if(select.value !== activeCategory){
          select.value = activeCategory;
        }

        const isGelato = activeCategory === 'GELATO';
        if(gelatoShowcase) gelatoShowcase.classList.toggle('is-active', isGelato);
        if(defaultContent) defaultContent.style.display = isGelato ? 'none' : '';
        if(isGelato){
          renderGelatoGrid();
          if(vascheContent){
            vascheContent.innerHTML = renderVascheSection();
          }
        }else{
          renderCategoryContent(activeCategory);
        }
      }

      function openModal(name){
        setActiveCategory(name || categories[0]);
        modal.classList.add('is-open');
        document.body.style.overflow = 'hidden';
      }

      function closeModal(){
        modal.classList.remove('is-open');
        document.body.style.overflow = '';
      }

      select.addEventListener('change', (e) => setActiveCategory(e.target.value));

      cards.forEach((card) => {
        const name = card.getAttribute('data-category') || card.textContent.trim();
        card.addEventListener('click', () => openModal(name));
        card.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            openModal(name);
          }
        });
      });

      closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if(e.target === modal) closeModal();
      });
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape' && modal.classList.contains('is-open')) closeModal();
      });

      function applyGelatoTranslations(){
        document.querySelectorAll('[data-gelato-i18n]').forEach((el) => {
          const key = el.getAttribute('data-gelato-i18n');
          if(!key) return;
          el.textContent = tGelato(key);
        });

        document.querySelectorAll('[data-gelato-i18n-attr]').forEach((el) => {
          const raw = el.getAttribute('data-gelato-i18n-attr') || '';
          raw.split(',').forEach((pair) => {
            const [attr, key] = pair.split(':').map((s) => s.trim());
            if(attr && key) el.setAttribute(attr, tGelato(key));
          });
        });
      }

      function applyTranslations(){
        document.documentElement.setAttribute('lang', currentLang);
        document.title = t('meta.title');

        document.querySelectorAll('[data-i18n]').forEach((el) => {
          const key = el.getAttribute('data-i18n');
          if(!key) return;
          el.textContent = t(key);
        });

        document.querySelectorAll('[data-i18n-html]').forEach((el) => {
          const key = el.getAttribute('data-i18n-html');
          if(!key) return;
          el.innerHTML = t(key);
        });

        document.querySelectorAll('[data-i18n-attr]').forEach((el) => {
          const raw = el.getAttribute('data-i18n-attr') || '';
          raw.split(',').forEach((pair) => {
            const [attr, key] = pair.split(':').map((s) => s.trim());
            if(attr && key) el.setAttribute(attr, t(key));
          });
        });

        renderCategoryNav();
        setActiveCategory(activeCategory);
        applyGelatoTranslations();
        renderGelatoGrid();
      }

      function setLang(lang){
        const next = normalizeLang(lang);
        if(next === currentLang) return;
        currentLang = next;
        try{ localStorage.setItem(STORAGE_KEY, currentLang); }catch{}
        setGelatoLanguage(currentLang);
        applyTranslations();
      }

      const langSelect = document.getElementById('langSelect');
      if(langSelect){
        langSelect.value = currentLang;
        langSelect.addEventListener('change', (e) => setLang(e.target.value));
      }

      if(gelatoSearch){
        gelatoSearch.addEventListener('input', renderGelatoGrid);
      }

      if(vascheToggle && vascheContent){
        vascheToggle.addEventListener('click', () => {
          const willOpen = vascheContent.hasAttribute('hidden');
          if(willOpen){
            vascheContent.removeAttribute('hidden');
            vascheToggle.classList.add('is-open');
            vascheToggle.setAttribute('aria-expanded', 'true');
            requestAnimationFrame(() => {
              vascheContent.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
          }else{
            vascheContent.setAttribute('hidden', '');
            vascheToggle.classList.remove('is-open');
            vascheToggle.setAttribute('aria-expanded', 'false');
          }
        });
      }

      renderCategoryNav();
      initI18n().then(() => {
        setGelatoLanguage(currentLang);
        applyGelatoTranslations();
        renderGelatoGrid();
      });
      applyTranslations();
    })();
  </script>
</body>
</html>
