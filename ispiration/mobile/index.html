<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Badiani Il Barattolo — Iconic Italian Gelato for Retail</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">
  <meta name="theme-color" content="#1e398d">
  <script src="../assets/i18n.js" defer></script>
  <script>
    // Tablet/iPad must use the desktop version (no mobile redesign on iPad).
    (function () {
      try {
        var ua = navigator.userAgent || '';
        var isIPad = /iPad/.test(ua);
        var isIPadOS = !isIPad && /Macintosh/.test(ua) && navigator.maxTouchPoints && navigator.maxTouchPoints > 1;
        if (!isIPad && !isIPadOS) return;
        var target = '../index.html' + (location.search || '') + (location.hash || '');
        if (location.pathname.indexOf('/mobile/') !== -1) {
          location.replace(target);
        }
      } catch (e) {
        // no-op
      }
    })();
  </script>
  <style>
    @font-face {
  font-family: 'SuperGroteskB';
  src: url('fonts/SuperGroteskB-CdMed.woff2') format('woff2'),
       url('fonts/SuperGroteskB-CdMed.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
    @font-face {
      font-family: 'SuperGroteskA';
      src: url('fonts/SuperGroteskA-Rg[7511].woff2') format('woff2'),
           url('fonts/SuperGroteskA-Rg[7511].woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'SuperGroteskC';
      src: url('fonts/SuperGroteskC-MedLF.otf') format('opentype');
      /* Allow this single file to satisfy multiple requested weights */
      font-weight: 1 1000;
      font-style: normal;
      font-display: swap;
    }

    /* Digits-only font: use SuperGroteskC just for numbers (0-9) everywhere. */
    @font-face {
      font-family: 'SuperGroteskDigits';
      src: url('fonts/SuperGroteskC-MedLF.otf') format('opentype');
      font-weight: 1 1000;
      font-style: normal;
      unicode-range: U+0030-0039;
      font-display: swap;
    }

    /* Lowercase-only font: use SuperGroteskC just for lowercase letters everywhere. */
    @font-face {
      font-family: 'SuperGroteskLower';
      src: url('fonts/SuperGroteskC-MedLF.otf') format('opentype');
      font-weight: 1 1000;
      font-style: normal;
      /* a-z + common Latin-1 lowercase (incl. Italian accents) */
      unicode-range: U+0061-007A, U+00DF, U+00E0-00F6, U+00F8-00FF;
      font-display: swap;
    }

    /* Utility class: use SuperGroteskA and force lowercase */
    /* (defined once below after base typography) */

    /* Typography: use SuperGrotesk Regular as the site default
       and SuperGrotesk Medium for titles (forced uppercase). */

    /* Base: all body text uses SuperGrotesk Regular (400) */
    body, html {
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight: 400;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* No italic/oblique typography anywhere */
    em, i { font-style: normal; }

    /* Small/caption text inherit the regular font by default.
       Keep a utility class available for explicit lowercase usage. */
    .sga-lower{
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      text-transform: lowercase;
      letter-spacing: 0.4px;
    }

    /* If a string contains lowercase characters but also uppercase in the same word,
       we still want the WHOLE word/element to render in Grotesk C. This class is
       applied automatically via JS (see bottom of the page). */
    .sgc-has-lower{
      font-family: 'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskB', 'SuperGroteskA', sans-serif !important;
    }

    /* Titles: use SuperGrotesk Medium and show as uppercase */
    h1, h2, h3, .hero h1, .section-title, .story-title, .card-name, .stat-num, .barattolo-text h2,
    .mission-title, .heritage h2 {
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskB', 'SuperGroteskA';
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.6px;
    }

    /* Ensure heading squares are fully removed (override any lingering rules) */
    .section-title::before,
    .story-title::before,
    .heritage h2::before,
    .contact h2::before{
      content: none !important;
      display: none !important;
      width: 0 !important;
      height: 0 !important;
    }
    .section-title,
    .story-title,
    .heritage h2,
    .contact h2{
      padding-left: 0 !important;
      text-align: center;
    }

    /* Unified section headings (larger than descriptive text) */
    .section-title,
    .story-title,
    .heritage h2,
    .gallery h2,
    .why h2,
    .contact h2,
    .barattolo-text h2{
      font-size: var(--section-title-size) !important;
      line-height: 1.1;
      letter-spacing: 0.6px;
      margin-bottom: var(--section-gap-md);
    }

    /* Unified descriptive copy size across sections */
    .section-subtitle,
    .story-lead,
    .timeline-desc,
    .heritage-intro,
    .barattolo-text p,
    .card-description,
    .card-features li,
    .gallery-subtitle,
    .benefit p,
    .contact p{
      font-size: var(--section-desc-size) !important;
      line-height: var(--section-desc-line) !important;
    }

    /* Consistent vertical gaps between section elements */
    .section-subtitle,
    .gallery-subtitle,
    .story-lead,
    .heritage-intro,
    .contact p{
      margin-bottom: var(--section-gap-lg) !important;
    }
    .barattolo-text p{
      margin-bottom: var(--section-gap-md) !important;
    }
    .timeline-title,
    .card-name{
      margin-bottom: var(--section-gap-sm) !important;
    }
    .card-description{
      margin-bottom: var(--section-gap-md) !important;
    }
    .heritage h2,
    .barattolo-text h2,
    .mission-box h2,
    .vision-box h2,
    .why h2,
    .gallery h2{
      margin-bottom: var(--section-gap-md) !important;
    }
    .mission-box p,
    .vision-box p,
    .benefit h3,
    .benefit p,
    .heritage-intro,
    .contact p{
      margin-bottom: var(--section-gap-sm) !important;
    }
    .mission-box p:last-child,
    .vision-box p:last-child,
    .benefit p:last-child,
    .contact p:last-child{
      margin-bottom: 0 !important;
    }

    /* If you need to target specific small-text selectors later,
       they will inherit SuperGroteskA from body and can use
       the `.sga-lower` utility for lowercase transform. */

    /* Ensure small/readable copy uses SuperGrotesk Regular explicitly */
    .story-lead,
    .timeline-desc,
    .barattolo-text p,
    .card-description,
    .card-features li,
    .benefit p,
    .contact p,
    .spec-value,
    footer,
    .stat-label,
    .card-sub {
      font-family: 'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight: 300;
    }

    :root{ 
      --badiani-blue:#1e398d; 
      --badiani-pink:#f067a6; 
      --badiani-yellow:#D8A200; 
      --badiani-cyan:#5B9AAD; 
      --badiani-green:#6F7C4A;
      --badiani-gray:#58595b; 
      --bg-light:#f8f8f8;
      --space-xxl: 90px;
      --space-xl: 70px;
      --space-lg: 50px;
      --space-md: 40px;
      --space-sm: 25px;
      --info-offset: 20px;
      --cta-font-size: 16px;
      --cta-letter-spacing: 2px;
      /* Unified mobile typography */
      --section-title-size: clamp(22px, 6.2vw, 30px);
      --section-desc-size: clamp(14px, 4.2vw, 18px);
      --section-desc-line: 1.55;
      --section-gap-sm: 8px;
      --section-gap-md: 12px;
      --section-gap-lg: 16px;
      --section-divider-color: #f067a6;
      --section-divider-width: 1px;
      /* Safe area insets for notched devices (iPhone X+) */
      --safe-area-top: env(safe-area-inset-top, 0px);
      --safe-area-bottom: env(safe-area-inset-bottom, 0px);
      --safe-area-left: env(safe-area-inset-left, 0px);
      --safe-area-right: env(safe-area-inset-right, 0px);
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    html{scroll-behavior:smooth; -webkit-text-size-adjust:100%; text-size-adjust:100%;}
    html, body{ overflow-x:hidden; }

    /* Mobile-first / mobile-only optimizations */
    body, html { cursor: auto; }
    a, button, .card-img, .nav-menu a, .cta-btn, .menu-toggle { cursor: pointer; touch-action: manipulation; -webkit-touch-callout: none; }
    * { -webkit-tap-highlight-color: transparent; }

    /* Spanish labels are longer: slightly tighten nav buttons when lang=es */
    html[lang="es"] .nav-menu a{
      font-size: 9px;
      padding: 5px 7px;
      letter-spacing: 0.7px;
    }

    /* Cross-browser flexbox fixes */
    .nav-menu, .products-grid, .benefits, .gallery-grid, .mv-tabs {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
    }

    body{
      font-family: 'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      background:var(--bg-light); 
      color:var(--badiani-gray); 
      line-height:1.6;
      /* Safe area padding for notched devices */
      padding-left: var(--safe-area-left);
      padding-right: var(--safe-area-right);
    }

    .header-wrapper{ position:sticky; top:0; z-index:1000; box-shadow:0 2px 10px rgba(0,0,0,0.1); will-change: transform; -webkit-backface-visibility: hidden; backface-visibility: hidden; -webkit-perspective: 1000px; perspective: 1000px; padding-top: var(--safe-area-top); overflow:visible; }
    header{ background:var(--badiani-blue); padding:18px clamp(16px, 3.2vw, 40px); display:-webkit-flex; display:flex; -webkit-align-items:center; align-items:center; -webkit-justify-content:space-between; justify-content:space-between; gap:clamp(10px, 1.6vw, 24px); position:relative; overflow:visible; }
    .logo-link{ display:-webkit-flex; display:flex; -webkit-align-items:center; align-items:center; text-decoration:none; }
    .logo-img{ height:clamp(42px, 4.0vw, 55px); width:auto; -o-object-fit:contain; object-fit:contain; -webkit-filter: invert(1) grayscale(1) brightness(200%); filter: invert(1) grayscale(1) brightness(200%); mix-blend-mode: screen; }
    .nav-menu{ display:-webkit-flex; display:flex; gap:clamp(12px, 2.4vw, 35px); -webkit-align-items:center; align-items:center; white-space:nowrap; }
    .nav-menu a{ color:#fff; text-decoration:none; font-size:clamp(13px, 1.15vw, 16px); letter-spacing:clamp(1px, 0.18vw, 2px); text-transform:uppercase; -webkit-transition:all 0.3s; transition:all 0.3s; padding:clamp(9px, 1.0vw, 12px) clamp(12px, 1.6vw, 20px); border-radius:25px; font-weight:500; }
    .nav-menu a:hover{ background:var(--badiani-pink); -webkit-transform:translateY(-2px); transform:translateY(-2px); }

    

    /* marquee/ticker removed */

    @media (prefers-reduced-motion: reduce){
      .global-presence-bg img{ transition: none !important; }
      .global-presence-headline{ transition: none !important; }
      .global-presence::before,
      .global-presence::after{ transition: none !important; }
      .global-presence-scroll-hint{ transition: none !important; }
    }
    /* single-line banner: #bannerNext removed */

    /* Linee divisorie rimosse su richiesta */
    section { border-top: 0; border-bottom: 0; }

    /* HERO - TITOLO PIÃ™ IN ALTO */
    .hero{ position:relative; height:550px; overflow:hidden; display:flex; align-items:flex-start; justify-content:center; text-align:center; color:#fff; padding-top:80px; }
    .hero-bg{ 
        position:absolute; 
        top:0;left:0;right:0;bottom:0; 
      background-image:url('assets/extracted/a7a56600066a6e356fdf55d5683807c4328d597b.webp');
        background-size:cover;
        background-position: center center;
        filter:brightness(0.32);
        transition: filter 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .hero:hover .hero-bg{
        filter:brightness(1) saturate(1.1);
        transform: scale(1.05);
    }
    .hero-content{ position:absolute; top:0; left:0; right:0; transform:none; margin:0 auto; z-index:2; width:100%; max-width:900px; padding:clamp(56px, 10vh, 140px) 20px 24px; transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), filter 0.6s ease; }
    .hero:hover .hero-content{
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
        filter: blur(10px);
        pointer-events: none;
    }
    .hero h1{ font-family:'SuperGroteskDigits', 'SuperGroteskB'; font-size:clamp(42px, 6.2vw, 86px); font-weight:700; letter-spacing:clamp(1px, 0.35vw, 5px); text-transform:uppercase; margin-bottom:18px; line-height:1.08; }
    .hero h1 span{ color:var(--badiani-pink); font-style:normal; }
    .hero .hero-subtitle{ font-family:'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-size:clamp(18px, 2.2vw, 30px); margin-bottom:15px; font-style:normal; font-weight:500; letter-spacing:clamp(0.6px, 0.12vw, 1.5px); text-transform:uppercase; font-variant-caps:normal; line-height:1.25; }
    .hero p{ font-size:clamp(16px, 1.95vw, 28px); line-height:1.65; font-weight:300; }

    /* SEZIONE STORIA CON SFONDO FIRENZE */
    .buontalenti-story{
        position: relative;
        overflow: hidden;
        background-color: #fff;
      padding:var(--space-xl) 20px;
    }
    .buontalenti-story::before {
        content: "";
        position: absolute;
        inset: 0;
      background-image: url('assets/extracted/5a21d37ff7aad42e4cbf72325d7f2285026d0fda.webp');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.20;
        pointer-events: none;
        z-index: 0;
    }

    .heritage, .products, .contact {
        position: relative;
        overflow: hidden;
        background-color: #fff;
    }
    .heritage::before, .products::before, .contact::before {
        content: "";
        position: absolute;
        inset: 0;
      background-image: url('assets/extracted/1b2a5cc62945aea094a8e00e488dd08378eef958.webp');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.25;
        pointer-events: none;
        z-index: 0;
    }

    .story-inner{ max-width:1200px; margin:0 auto; position:relative; z-index:1; }
    .story-header{ text-align:center; margin-bottom:50px; }
    .story-title{
      position:relative;
      display:inline-block;
      padding-left:0;
      font-size:54px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:var(--badiani-blue);
      margin-bottom:25px;
      font-weight:700;
      text-align:center;
    }
    .story-title::before{ display:none; }
    .story-lead{ font-size:22px; margin-bottom:40px; line-height:1.9; max-width:900px; margin-left:auto; margin-right:auto; font-weight:300; }
    .highlight-pink{ background:var(--badiani-pink); color:#fff; padding:1px 3px; margin:0 3px; font-family:'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-weight:500; border-radius:0; white-space:nowrap; text-transform:uppercase; font-variant-caps:normal; display:inline; vertical-align:baseline; line-height:inherit; font-size:1.1em; }

    /* Make only the “20%” text 20% bigger without affecting the whole sentence */
    .percent-boost{ font-size:1.12em; font-weight:600; white-space:nowrap; }

    .story-timeline{ display:grid; grid-template-columns:repeat(3, 1fr); gap:40px; margin-top:50px; }
    .timeline-item{ padding:45px 35px; background:#fff; border-radius:20px; box-shadow:0 10px 40px rgba(0,0,0,0.1); transition:all 0.4s; border-left:6px solid var(--badiani-pink); }
    .timeline-item:nth-child(1){ border-left-color:var(--badiani-blue); }
    .timeline-item:nth-child(2){ border-left-color:var(--badiani-pink); }
    .timeline-item:nth-child(3){ border-left-color:var(--badiani-yellow); }
    @media (hover:hover) and (pointer:fine){
      .timeline-item:hover{ transform:translateY(-10px); box-shadow:0 20px 60px rgba(240,103,166,0.3); }
    }
    .timeline-year{ font-size:48px; font-weight:700; color:var(--badiani-pink); margin-bottom:18px; letter-spacing:2px; font-family:'SuperGroteskC', 'SuperGroteskDigits', 'SuperGroteskB', 'SuperGroteskA', sans-serif; }
    .timeline-item:nth-child(1) .timeline-year{ color:var(--badiani-blue); }
    .timeline-item:nth-child(2) .timeline-year{ color:var(--badiani-pink); }
    .timeline-item:nth-child(3) .timeline-year{ color:var(--badiani-yellow); }
    .timeline-title{ font-size:24px; font-weight:600; color:var(--badiani-blue); margin-bottom:18px; text-transform:uppercase; letter-spacing:1px; text-align:center; }
    .timeline-desc{ font-size:19px; line-height:1.9; color:var(--badiani-gray); font-weight:300; text-align:center; }
    .timeline-desc .highlight-pink{ white-space:normal; }

    .mission-vision{ padding:0; display:grid; grid-template-columns:1fr 1fr; }
    .mission-box, .vision-box{ padding:70px 45px; color:#fff; min-height:480px; display:flex; flex-direction:column; justify-content:center; position:relative; overflow:hidden; }
    .mission-box{ background:linear-gradient(135deg, var(--badiani-blue), #2a4ab0); }
    .vision-box{ background:linear-gradient(135deg, var(--badiani-pink), #ff7ab7); }
    .mission-box::before, .vision-box::before{ content:""; position:absolute; inset:-20px; background-size:cover; background-position:center; opacity:0.18; pointer-events:none; transition: transform 0.5s ease, opacity 0.5s ease; }
    .mission-box:hover::before, .vision-box:hover::before{ transform: scale(1.06); opacity:0.28; }

    /* Only these two strong lines should always use SuperGroteskC */
    .mission-box p strong,
    .vision-box p strong{
      font-family:'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight:500;
      text-transform:uppercase;
    }
    .mission-box p strong,
    .vision-box p strong{
      display:block;
      font-size: calc(var(--section-desc-size) + 2px);
      letter-spacing:0.6px;
      margin-bottom: var(--section-gap-sm);
      line-height:1.25;
    }
    .mission-box::before{ background-image:url('mission.webp'); }
    .vision-box::before{ background-image:url('vision.webp'); }
    .mission-box > *, .vision-box > *{ position:relative; z-index:1; }
    .mission-box h2, .vision-box h2{ font-size:48px; letter-spacing:3px; text-transform:uppercase; margin-bottom:25px; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.3); }
    .mission-box p, .vision-box p{
      font-size: var(--section-desc-size);
      line-height: var(--section-desc-line);
      font-weight:300;
      text-shadow:1px 1px 4px rgba(0,0,0,0.3);
      margin-bottom: var(--section-gap-sm);
    }
    .mission-box p:last-child,
    .vision-box p:last-child{ margin-bottom: 0; }

    .heritage{ padding:var(--space-xl) 20px; text-align:center; }
    .heritage > *{ position:relative; z-index:1; }
    .heritage h2{
      position:relative;
      display:inline-block;
      padding-left:0;
      font-size:54px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:var(--badiani-blue);
      margin-bottom:25px;
      font-weight:700;
      line-height:1;
      text-align:center;
    }
    .heritage h2::before{ display:none; }
    .heritage-intro{ max-width:950px; margin:0 auto 45px; font-size:20px; line-height:1.9; font-weight:300; }
    .stats{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:25px; max-width:1150px; margin:0 auto; }
    .stat{ background:var(--badiani-blue); color:#fff; padding:25px 50px; border-radius:20px; transition:transform 0.3s; min-height:90px; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    .stat:hover{ transform:translateY(-5px); }
    .stat:nth-child(2){ background:var(--badiani-pink); }
    .stat:nth-child(3){ background:var(--badiani-yellow); color:#fff; }
    .stat:nth-child(4){ background:var(--badiani-cyan); color:#fff; }
    .stat-num{ font-size:54px; font-weight:700; margin-bottom:12px; }
    .stat-label{ font-size:16px; text-transform:uppercase; letter-spacing:2px; opacity:0.95; font-weight:500; }

    .global-presence{ width:100%; padding:0; line-height:1; background:#1f4495; position:relative; aspect-ratio: 8 / 3; overflow:hidden; }
    /* Media layer for Locations: use a real <img> so horizontal scroll works on mobile */
    .global-presence-bg{ position:absolute; inset:0; overflow:hidden; z-index:0; }
    .global-presence-bg img{
      position:relative;
      top:0;
      left:0;
      transform:none;
      width:100%;
      height:100%;
      object-fit:cover;
      object-position:center;
      display:block;
      user-select:none;
      -webkit-user-select:none;
      -webkit-user-drag:none;
      pointer-events:none;
      will-change: transform, left, top, width, height;
      transition:
        width 0.65s cubic-bezier(0.34, 1.56, 0.64, 1),
        left 0.65s cubic-bezier(0.34, 1.56, 0.64, 1),
        transform 0.65s cubic-bezier(0.34, 1.56, 0.64, 1),
        top 0.65s cubic-bezier(0.34, 1.56, 0.64, 1),
        height 0.65s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .global-presence::after{ display:none; }
    /* Darken only the top area of the image for title readability */
    .global-presence::before{
      content:"";
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:28%;
      background:linear-gradient(to bottom, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0.00) 100%);
      z-index:2;
      pointer-events:none;
    }
    /* Hide legacy images if any were previously injected (we now render the bg via .global-presence-bg img) */
    .global-presence > img{ display:none; }
    .global-presence-headline{ position:absolute; top:7%; left:0; right:0; text-align:center; z-index:3; padding:0 18px; }

    .global-presence-scroll-hint{
      position:absolute;
      left:50%;
      top:14px;
      bottom:auto;
      transform:translateX(-50%);
      background:rgba(0,0,0,0.55);
      color:#fff;
      padding:8px 14px;
      border-radius:999px;
      font-size:11px;
      letter-spacing:1px;
      text-transform:uppercase;
      opacity:0;
      transition:opacity 0.25s ease;
      pointer-events:none;
      z-index:4;
      white-space:nowrap;
      max-width:calc(100% - 24px);
      text-align:center;
    }

    /* Reference-style title: “BADIANI AROUND THE WORLD / MEANS / GELATO” */
    .global-presence-headline .world-means-title{
      margin:0;
      color:#fff;
      text-transform:uppercase;
      line-height:0.95;
      text-shadow:2px 2px 10px rgba(0,0,0,0.25);
    }
    .global-presence-headline .world-means-title .wmt-top{
      display:block;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskB', 'SuperGroteskA', sans-serif;
      font-weight:700;
      font-size:clamp(18px, 3.24vw, 45.6px);
      letter-spacing:0.08em;
    }
    .global-presence-headline .world-means-title .wmt-mid{
      display:block;
      margin-top:14px;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight:400;
      font-size:clamp(12px, 1.56vw, 30px);
      letter-spacing:0.24em;
      opacity:0.92;
    }
    .global-presence-headline .world-means-title .wmt-bottom{
      display:block;
      margin-top:10px;
      font-family:'SuperGroteskDigits', 'SuperGroteskLower', 'SuperGroteskB', 'SuperGroteskA', sans-serif;
      font-weight:800;
      font-size:clamp(56.16px, 9.828vw, 152.88px);
      letter-spacing:0.06em;
    }

    /* Interactive state for global-presence */
    .global-presence {
      transition: background-size 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), background-position 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), overflow 0.6s ease;
    }
    .global-presence.is-expanded {
      overflow: hidden;
      cursor: grab;
      padding-bottom: 0;
      -webkit-overflow-scrolling: touch;
    }
    .global-presence.is-expanded .global-presence-bg{ 
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .global-presence.is-expanded .global-presence-bg img{
      width: 250%;
      height: 155%;
      max-width: none;
      margin-left: 0;
      margin-top: -35%;
      object-fit: cover;
      object-position: center;
      position: relative;
      top: auto;
      left: auto;
      transform: none;
      pointer-events: none;
    }
    .global-presence.is-expanded .global-presence-bg::-webkit-scrollbar{ display:none; }
    .global-presence-headline {
      transition: opacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      opacity: 1;
    }
    .global-presence.is-expanded .global-presence-headline {
      opacity: 0;
      pointer-events: none;
    }
    .global-presence.is-expanded .global-presence-scroll-hint{ opacity:1; }
    .global-presence::before {
      transition: opacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .global-presence::after {
      transition: opacity 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .global-presence.is-expanded::before {
      opacity: 0;
    }
    .global-presence.is-expanded::after {
      opacity: 0;
    }

    /* BARATTOLO SHOWCASE - Full width video separator */
    .barattolo-showcase{ width:100%; padding:0; line-height:0; background:#000; overflow:hidden; }
    .barattolo-showcase video{ width:100%; height:auto; display:block; object-fit:cover; }

    /* BARATTOLO INTRO CON SFONDO CALLIGRAFICO */
    .barattolo-intro{ 
      background: #3d4f8f url('assets/barattolo-tab.webp?v=20251222') center/cover no-repeat; 
      padding:0; 
      text-align:left; 
      position:relative; 
      overflow:hidden; 
      color:#fff;
      border-top:0;
      border-bottom:0;
    }
    .barattolo-intro::before{ 
      content:""; 
      position:absolute; 
      inset:0; 
      background:rgba(61,79,143,0.5);
      z-index:0;
    }
    .barattolo-intro > * {
      position: relative;
      z-index: 2;
    }
    /* Let the video column auto-size from the video's aspect ratio when height is 100% */
    .barattolo-intro-content{ max-width:1200px; margin:0 auto; display:grid; grid-template-columns:auto 1fr; gap:80px; align-items:stretch; text-align:left; padding:0 20px; }
    .barattolo-image-pila{ position:relative; aspect-ratio:9/16; width:auto; height:auto; max-height:70vh; display:flex; align-items:center; justify-content:center; overflow:hidden; background:#fff; }

    .barattolo-image-pila img, .barattolo-image-pila video{ width:100%; border-radius:15px; box-shadow:0 15px 50px rgba(0,0,0,0.2); transition:transform 0.4s ease; display:block; }
    .barattolo-image-pila img{ height:auto; border:6px solid #fff; }
    /* Video: full visible frame (no crop) inside a tall vertical strip */
    .barattolo-image-pila video{
      display:block;
      width:auto;
      height:100%;
      max-width:100%;
      object-fit:contain;
      object-position:center -20px;
      border:0;
      border-radius:0;
      box-shadow:none;
      transform:none;
      position:relative;
      z-index:0;
      filter:brightness(0.96);
    }
    @media (hover:hover) and (pointer:fine){
      .barattolo-image-pila:hover img{ transform:scale(1.05); }
    }
    .barattolo-text{ text-align:left; color:#fff; display:flex; flex-direction:column; justify-content:center; padding:90px 0; }
    .barattolo-text h2{ position:relative; display:inline-block; padding-left:0; font-size:50px; letter-spacing:1px; text-transform:uppercase; color:#fff; margin-bottom:22px; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.2); }
    .barattolo-text h2 span{ color:var(--badiani-pink); font-style:normal; }
    .barattolo-text p{ font-size:19px; line-height:1.9; margin-bottom:18px; font-weight:400; text-shadow:1px 1px 3px rgba(0,0,0,0.2); }
    .barattolo-text .highlight-pink{ background:var(--badiani-pink); color:#fff; padding:2px 6px; border-radius:3px; font-family:'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif; font-weight:500; text-transform:uppercase; font-variant-caps:normal; }
    .barattolo-text strong{ color:#fff; font-weight:600; }
    .barattolo-text .barattolo-cta{ align-self:flex-start; width:auto; }

    .products{ padding:var(--space-xxl) 20px; }
    .products > *{ position:relative; z-index:1; }
    .section-title{
      position:relative;
      display:block;
      padding-left:0;
      font-size:54px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:var(--badiani-blue);
      margin:0 auto 25px;
      text-align:center;
      font-weight:700;
    }
    .section-title::before{ display:none; }
    .section-title span{ color:var(--badiani-pink); font-style:normal; }
.section-subtitle{ font-size:clamp(16px, 4.2vw, 20px); padding:0 15px; margin-bottom:30px; text-align:center; }

    /* Center the Premium Collection title and square as a single block */
    .products .section-title{
      display:block;
      width:auto;
      margin:0 auto 25px;
      padding-left:0;
      text-align:center;
    }
    .products .section-title::before{ display:none; }
     /* UPDATED: Tab quadrati 380px - FORZATO con padding */
     .products-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(380px,1fr)); gap:50px; max-width:1350px; margin:0 auto; }
    .card{ background:#fff; border-radius:25px; overflow:hidden; box-shadow:0 15px 50px rgba(0,0,0,0.15); transition:all 0.4s; position:relative; }

    /* Mobile: subtle auto-zoom while the user scrolls over the product cards */
    @media (hover:none) and (pointer:coarse){
      #products .card{ transform-origin: 50% 50%; }
      #products .card.is-inview{
        transform: scale(1.03);
        box-shadow:0 18px 60px rgba(0,0,0,0.18);
      }
    }
    @media (prefers-reduced-motion: reduce){
      #products .card{ transition: none !important; }
      #products .card.is-inview{ transform: none !important; }
    }
    /* Hover effects only when real hover exists */
    @media (hover:hover) and (pointer:fine){
      .card:hover{ transform:translateY(-12px) scale(1.02); box-shadow:0 25px 70px rgba(0,0,0,0.25); }
    }

     /* Product image area: let the image define height so it shows fully (no crop, no letterbox). */
     .card-img{ 
       width:100%;
       overflow:hidden; 
       background:linear-gradient(135deg, #f5f5f5, #fff); 
       background-size:cover; 
       background-position:center center; 
       background-repeat:no-repeat;
       position:relative; 
       cursor:pointer; 
       transition:all 0.3s ease;
       line-height:0;
     }
    @media (hover:hover) and (pointer:fine){
      .card-img:hover{ background:linear-gradient(135deg, #fff, #fef5f9); }
    }
    /* overlay button: use a real element instead of pseudo-element so it's clickable */
    .card-img::after{ display:none; }
    /* Mobile: Info icon at bottom-right of photo to indicate specs on tap */
    .card-img::before{
      content: "ⓘ";
      position: absolute;
      bottom: var(--info-offset);
      right: var(--info-offset);
      color: rgba(88,89,91,0.6);
      font-size: 22px;
      line-height: 1;
      z-index: 10;
      pointer-events: none;
      text-shadow: 0 1px 3px rgba(255,255,255,0.9);
    }
    /* Hide on desktop where hover works - DISABLED as requested */
    /* @media (hover:hover) and (pointer:fine){
      .card-img::before{ display: none; }
    } */
    .card-img .card-btn{ position:absolute; bottom:18px; left:50%; transform:translateX(-50%) translateY(50px); background:rgba(30,57,141,0.95); color:#fff; padding:12px 28px; border-radius:25px; font-size:15px; letter-spacing:1.2px; text-transform:uppercase; opacity:0; transition:all 0.35s ease; pointer-events:none; font-weight:600; box-shadow:0 6px 22px rgba(30,57,141,0.35); text-decoration:none; display:inline-block; }
    .card-img:hover .card-btn{ transform:translateX(-50%) translateY(0); opacity:1; }
    @media (hover: none) and (pointer: coarse) {
      .card-img:hover .card-btn { transform:translateX(-50%) translateY(50px); opacity:0; }
    }
     /* Image: render fully, no cropping; container grows to fit image height. */
    .card-img img{
      position:relative;
      top:auto;
      left:auto;
      width:100%;
      height:auto;
      display:block;
      object-fit:contain;
      object-position:center center;
      filter:brightness(1.03) drop-shadow(0 10px 30px rgba(0,0,0,0.18));
      transition: transform 0.45s ease, filter 0.28s ease;
      transform:none;
      will-change: transform;
    }

    /* Hover zoom on images (desktop only) */
    @media (hover:hover) and (pointer:fine){
      .card-img img:hover {
        transform: scale(1.12);
        filter: brightness(1.08);
      }
    }

    /* Prevent the three jar product cards from scaling on card hover */
    .card.classico:hover,
    .card.dolcevita:hover,
    .card.pistacchio:hover {
      transform: translateY(-12px);
      box-shadow:0 25px 70px rgba(0,0,0,0.25);
    }
    .card-award{ position:absolute; top:22px; right:22px; background:var(--badiani-yellow); color:#fff; padding:10px 20px; border-radius:25px; font-size:14px; font-weight:600; letter-spacing:1px; text-transform:uppercase; box-shadow:0 4px 15px rgba(216,162,0,0.4); z-index:2; }
    .card-header{ padding:30px 35px; text-align:center; color:#fff; }
    .card.classico .card-header{ background:linear-gradient(135deg, var(--badiani-blue), #2a4ab0); }
    .card.dolcevita .card-header{ background:linear-gradient(135deg, #3d2314, #5a3320); }
    .card.pistacchio .card-header{ background:linear-gradient(135deg, var(--badiani-green), #7f8c5a); }
    .card-name{ font-size:27px; font-weight:700; letter-spacing:0.6px; text-transform:uppercase; margin-bottom:6px; line-height:1.1; }
    .card-sub{
      font-size:14.4px;
      opacity:.85;
      letter-spacing:0.8px;
      font-style:normal;
      font-family:'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      font-weight:500;
      text-transform:uppercase;
      line-height:1.2;
    }
    .card-body{ padding:28px 30px; text-align:center; }
    .card-description{
      font-size:15.3px;
      margin-bottom:16px;
      line-height:1.55;
      color:var(--badiani-gray);
      font-weight:300;
      text-align:center !important;
    }
    .card-description br{ display:none; }
    .card-features{ list-style:none; padding:0; display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    .card-features li{
      font-size:13.5px;
      padding:10px 12px;
      background:var(--bg-light);
      border-radius:10px;
      display:flex;
      flex-direction:row;
      align-items:center;
      justify-content:center;
      gap:6px;
      font-weight:400;
      line-height:1.2;
      text-align:center;
    }
    /* use Unicode escape for checkmark to avoid encoding issues */
    .card-features li::after{ content:"\2713"; color:var(--badiani-pink); font-size:18px; font-weight:700; margin-left:6px; display:inline-block; }

    .specs-overlay{ position:fixed; top:0;left:0; width:100%; height:100%; z-index:9999; display:none; opacity:0; transition:opacity 0.5s ease; overflow:hidden; }
    .specs-overlay.active{ display:block; opacity:1; }
    .specs-overlay-bg{ position:fixed; top:0;left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); -webkit-backdrop-filter:blur(10px); backdrop-filter:blur(10px); }
    .specs-overlay-content{ position:relative; z-index:2; display:flex; flex-direction:row; align-items:flex-start; justify-content:center; width:100%; max-width:1150px; height:100vh; margin:0 auto; gap:30px; padding:25px; }
    /* IMMAGINE OVERLAY: quadrata e grande come il pannello specs */
    .specs-overlay-image{ 
      width:38%; 
      max-width:416px; 
      aspect-ratio:1/1;
      overflow:hidden; 
      border-radius:12px; 
      animation:slideLeft 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); 
      box-shadow:0 10px 35px rgba(240,103,166,0.4); 
      background:linear-gradient(135deg, #f5f5f5, #fff); 
      flex-shrink:0;
      position:relative;
    }
    .specs-overlay-image img{ 
      position:absolute;
      top:0;
      left:0;
      width:100%; 
      height:100%; 
      object-fit:cover; 
      display:block; 
      filter:brightness(1.05); 
    }
    @keyframes slideLeft{ from{transform:translateX(-50px);opacity:0;} to{transform:translateX(0);opacity:1;} }
    .specs-panel-fullscreen{ width:55%; max-width:650px; max-height:70vh; overflow-y:auto; background:linear-gradient(135deg, #fff 0%, #f8f8f8 100%); border-radius:12px; padding:25px; box-shadow:0 10px 40px rgba(0,0,0,0.6); animation:slideRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.1s both; flex-shrink:0; }
    @keyframes slideRight{ from{transform:translateX(50px);opacity:0;} to{transform:translateX(0);opacity:1;} }
    .specs-panel-title{ font-size:22px; letter-spacing:1px; text-transform:uppercase; color:var(--badiani-blue); margin-bottom:18px; padding-bottom:10px; border-bottom:3px solid var(--badiani-pink); font-weight:700; }
    .specs-grid{ display:grid; grid-template-columns:repeat(2, 1fr); gap:12px; }

    /* Specs boxes: always use Grotesk C (except the title above) */
    .specs-panel-fullscreen .specs-grid,
    .specs-panel-fullscreen .specs-grid *{
      font-family: 'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskB', 'SuperGroteskA', sans-serif !important;
    }
    .spec-card{ background:#fff; padding:15px; border-radius:10px; border-left:4px solid var(--badiani-pink); box-shadow:0 2px 8px rgba(0,0,0,0.08); transition:all 0.3s ease; }
    .spec-card:nth-child(odd){ border-left-color:var(--badiani-blue); }
    .spec-card:nth-child(even){ border-left-color:var(--badiani-pink); }
    .spec-card:hover{ transform:translateY(-2px); box-shadow:0 4px 12px rgba(240,103,166,0.15); }
    .spec-label{ font-size:14px; text-transform:uppercase; letter-spacing:0.5px; color:var(--badiani-pink); font-weight:700; margin-bottom:8px; display:block; }
    .spec-card:nth-child(odd) .spec-label{ color:var(--badiani-blue); }
    .spec-card:nth-child(even) .spec-label{ color:var(--badiani-pink); }
    .spec-value{ font-size:16px; font-weight:500; color:var(--badiani-gray); line-height:1.4; }
    .specs-close-btn{
      --close-icon-size: 22px;
      --close-icon-stroke: 3px;
      position:fixed;
      top:18px;
      right:18px;
      width:55px;
      height:55px;
      background:linear-gradient(135deg, var(--badiani-pink), #ff7ab7);
      border:none;
      border-radius:50%;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:10;
      box-shadow:0 5px 20px rgba(240,103,166,0.5);

      padding:0;
      line-height:0;
      font-size:0;
      color:transparent;
      text-shadow:none;

      transform-origin:center;
      will-change:transform;
      backface-visibility:hidden;
      transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    }
    .specs-close-btn::before,
    .specs-close-btn::after{
      content:"";
      position:absolute;
      left:50%;
      top:50%;
      width:var(--close-icon-size);
      height:var(--close-icon-stroke);
      background:#fff;
      border-radius:999px;
      transform-origin:center;
    }
    .specs-close-btn::before{ transform:translate(-50%, -50%) rotate(45deg); }
    .specs-close-btn::after{ transform:translate(-50%, -50%) rotate(-45deg); }
    .specs-close-btn:hover{ background:linear-gradient(135deg, var(--badiani-blue), #2a4ab0); transform:rotate(90deg) scale(1.1) translateZ(0); box-shadow:0 8px 28px rgba(30,57,141,0.6); }

    .gallery{ background: #ff6b9d url('assets/barattolo-tab.webp?v=20251222') center/cover no-repeat; padding:var(--space-xxl) 20px; text-align:center; position:relative; overflow:hidden; }
    .gallery::before{ content:''; position:absolute; inset:0; background:rgba(255,107,157,0.7); z-index:0; }
    .gallery > *{ position:relative; z-index:1; }
    .gallery h2{ font-size:54px; letter-spacing:1px; text-transform:uppercase; margin-bottom:25px; color:#fff; font-weight:700; }
    .gallery-subtitle{ color:#fff; font-size:26px; margin-bottom:55px; opacity:0.95; font-style:normal; font-weight:300; }
    .gallery-grid{ display:flex; justify-content:center; align-items:center; gap:45px; flex-wrap:wrap; min-height:350px; }
    .gallery-item{ 
        width:220px; 
        height:220px; 
        border-radius:50%; 
        overflow:hidden; 
        box-shadow:0 15px 40px rgba(0,0,0,0.3); 
        border:7px solid #fff; 
        transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), 
                    filter 0.4s ease,
                    opacity 0.4s ease;
        cursor:pointer;
        position:relative;
        z-index:1;
    }
    /* Mobile base: no hover-driven zoom/jitter */
    .gallery-item:hover{ transform:none; }
    .gallery-grid:hover .gallery-item:not(:hover){ transform:none; opacity:1; filter:none; }

    /* Mobile: tap-to-zoom (JS toggles .is-zoomed) */
    @media (hover:none) and (pointer:coarse){
      @keyframes gallerySpinSlow{
        from{ transform: translateY(-28px) scale(2.52) rotate(0deg); }
        to{ transform: translateY(-28px) scale(2.52) rotate(360deg); }
      }

      /* When a circle is zoomed, allow it to overflow the section without being clipped */
      #gallery.has-zoom{ overflow:visible; z-index:50; }
      #gallery.has-zoom .gallery-grid{ position:relative; z-index:2; }

      .gallery-item{ transform-origin:center; }
      .gallery-item.is-zoomed{
        /* Nudge up a bit so it doesn't get cut off by the next section */
        transform:translateY(-28px) scale(2.52);
        /* Slow autonomous rotation while zoomed */
        animation: gallerySpinSlow 70s linear infinite;
        box-shadow:0 30px 80px rgba(0,0,0,0.5), 0 0 60px rgba(255,90,158,0.3);
        z-index:10;
        border-color: var(--badiani-pink);
        will-change: transform;
      }
      .gallery-grid.has-zoom .gallery-item:not(.is-zoomed){
        transform: scale(0.7);
        opacity: 0.55;
        filter: blur(2px) grayscale(30%);
      }
      .gallery-item.is-zoomed img{ transform: scale(1.15); }
    }

    @media (prefers-reduced-motion: reduce){
      .gallery-item.is-zoomed{ animation:none !important; }
    }

    /* Desktop-only hover behavior for gallery */
    @media (hover:hover) and (pointer:fine){
      .gallery-item:hover{ 
          transform:scale(1.8) rotate(0deg); 
          box-shadow:0 30px 80px rgba(0,0,0,0.5), 0 0 60px rgba(255,90,158,0.3); 
          z-index:10;
          border-color: var(--badiani-pink);
      }
      .gallery-grid:hover .gallery-item:not(:hover){
          transform: scale(0.7);
          opacity: 0.5;
          filter: blur(2px) grayscale(30%);
      }
      .gallery-item:hover img{ transform: scale(1.15); }
    }
    .gallery-item img{ 
        width:100%; 
        height:100%; 
        object-fit:cover; 
        filter:brightness(1.1); 
        transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    /* hover img scaling handled in hover media query above */

    .why{ background:#1f4495; color:#fff; padding:var(--space-xl) 20px; text-align:center; position:relative; overflow:hidden; }
    .why > *{ position:relative; z-index:1; }
    .why h2{ font-size:50px; letter-spacing:1px; text-transform:uppercase; margin-bottom:35px; color:#fff; font-weight:700; text-shadow:2px 2px 8px rgba(0,0,0,0.3); }
    .why h2 span{ color:var(--badiani-pink); font-style:normal; }
    .benefits{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:25px; max-width:1150px; margin:0 auto; }
    .benefit{ background:#152d6a; padding:30px 25px; border-radius:18px; border:2px solid rgba(255,255,255,0.25); transition:all 0.3s; }
    .benefit:hover{ border-color:var(--badiani-pink); background:rgba(255,255,255,0.22); transform:translateY(-5px); box-shadow:0 10px 30px rgba(0,0,0,0.3); }
    @media (hover:hover) and (pointer:fine){
      .benefit:hover{ border-color:var(--badiani-pink); background:rgba(255,255,255,0.22); transform:translateY(-5px); box-shadow:0 10px 30px rgba(0,0,0,0.3); }
    }
    .benefit h3{ font-size:22px; letter-spacing:1.5px; text-transform:uppercase; margin-bottom:15px; color:var(--badiani-yellow); font-weight:600; text-shadow:1px 1px 4px rgba(0,0,0,0.3); }
    .benefit p{ font-size:18px; opacity:.95; line-height:1.8; font-weight:300; text-shadow:1px 1px 3px rgba(0,0,0,0.2); }

    .contact{ padding:var(--space-xl) 20px; text-align:center; }
    .contact > *{ position:relative; z-index:1; }
    .contact h2{
      position:relative;
      display:inline-block;
      padding-left:0;
      font-size:54px;
      letter-spacing:1px;
      text-transform:uppercase;
      color:var(--badiani-blue);
      margin-bottom:25px;
      font-weight:700;
      line-height:1;
      text-align:center;
    }
    .contact h2::before{ display:none; }
    .contact p{ font-size:19px; margin-bottom:12px; font-weight:300; }
    .contact p.highlight{ color:var(--badiani-pink); font-weight:600; font-size:clamp(12px, 3.6vw, 16px); line-height:1.2; white-space:nowrap; }
    .cta-btn{ display:inline-block; margin-top:16px; padding:20px 60px; background:var(--badiani-pink); color:#fff; text-decoration:none; border-radius:35px; font-size:var(--cta-font-size); font-weight:600; letter-spacing:var(--cta-letter-spacing); text-transform:uppercase; -webkit-transition:all 0.3s; transition:all 0.3s; box-shadow:0 8px 25px rgba(240,103,166,0.3); }
    .cta-btn:hover{ background:var(--badiani-blue); -webkit-transform:translateY(-3px); transform:translateY(-3px); box-shadow:0 12px 35px rgba(30,57,141,0.4); }

    footer{ background:#333; color:#fff; padding:36px; padding-bottom: calc(36px + var(--safe-area-bottom)); text-align:center; font-size:16px; font-weight:300; }
    footer span{ color:var(--badiani-pink); font-weight:500; }

    .menu-toggle{ display:none; width:32px; height:28px; -webkit-flex-direction:column; flex-direction:column; -webkit-justify-content:space-between; justify-content:space-between; cursor:pointer; z-index:1001; }
    .menu-toggle span{ display:block; width:100%; height:4px; background:#fff; border-radius:3px; -webkit-transition:all 0.3s; transition:all 0.3s; }
    .menu-toggle.active span:nth-child(1){ -webkit-transform:translateY(12px) rotate(45deg); transform:translateY(12px) rotate(45deg); }
    .menu-toggle.active span:nth-child(2){ opacity:0; }
    .menu-toggle.active span:nth-child(3){ transform:translateY(-12px) rotate(-45deg); }

    /* ===== RESPONSIVE MOBILE - COMPLETAMENTE PROPORZIONATO ===== */
    
    @media(max-width:1100px){ 
      .products-grid{grid-template-columns:repeat(auto-fit,minmax(320px,1fr));} 
      .story-timeline{grid-template-columns:1fr;gap:30px;} 
    }
    
    @media(max-width:900px){ 
      /* Menu mobile */
      .menu-toggle{display:none !important;} 
      header{ flex-wrap:nowrap; gap:6px; overflow:visible; }
      .logo-link{ flex:0 0 auto; }
      
      .nav-menu{
        position:static !important;
        top:auto;
        right:auto;
        width:100%;
        max-width:none;
        height:auto;
        max-height:none;
        background:transparent;
        flex-direction:row;
        padding:0 4px 0 4px;
        transition:none;
        box-shadow:none;
        gap:4px;
        align-items:center;
        justify-content:flex-end;
        z-index:auto;
        overflow-x:auto;
        overflow-y:visible;
        border-radius:0;
        flex-wrap:nowrap;
        flex:1;
        min-width:0;
        white-space:nowrap;
        scroll-padding-left:10px;
        margin-left:auto;
        padding-top:4px;
      } 
      .nav-menu.active{right:auto;} 
      .nav-menu a{
        font-size:10px;
        padding:5px 7px;
        line-height:1;
        display:flex;
        align-items:center;
        width:auto;
        border-top:none;
        background:rgba(255,255,255,0.08);
        border-radius:20px;
        text-align:center;
        letter-spacing:1px;
      }
      .nav-menu a:hover{
        transform:none;
      }
      .nav-menu::-webkit-scrollbar{ display:none; }
      .nav-menu{ scrollbar-width:none; }

      .menu-overlay{ display:none !important; }

      .nav-menu a:first-child{
        border-top:none;
      }
      header{padding:12px 15px;} 
      .logo-img{height:46px;} 
      
      /* Hero proporzionato */
      .hero{height:auto; min-height:50vh; padding:40px 15px 35px;} 
      .hero h1{font-size:clamp(26px, 7vw, 36px); letter-spacing:1px; line-height:1.2;} 
      .hero .hero-subtitle{font-size:4vw; line-height:1.4;}
      .hero p{font-size:3.6vw; line-height:1.5; padding:0 5px;}
      .hero-content{
        top:auto;
        bottom:0;
        left:0;
        transform:none;
        width:100%;
        max-width:none;
        padding:18px 14px 20px;
        text-align:left;
        background: linear-gradient(to top, rgba(0,0,0,0.74) 0%, rgba(0,0,0,0.10) 70%, rgba(0,0,0,0.00) 100%);
      }
      .hero:hover .hero-content{ opacity:1; transform:none; filter:none; pointer-events:auto; }
      .hero:hover .hero-bg{ filter:brightness(0.32); transform:none; }

      /* Bigger, more impactful hero photo on mobile */
      .hero{ padding:0; }
      .hero .hero-bg{ height:clamp(320px, 52vh, 480px); background:#1e398d; overflow:hidden; }
      .hero .hero-bg img{ width:190%; max-width:none; height:100%; object-fit:cover; object-position:center; margin-left:-45%; transform:none; transition: margin-left 0.3s ease; }

      /* Hero scroll mode - tap to explore full image */
      .hero.scroll-mode .hero-content{ 
        pointer-events:none; 
        background:transparent !important;
        transition:all 0.3s ease; 
      }
      .hero.scroll-mode .hero-content h1,
      .hero.scroll-mode .hero-content .hero-subtitle,
      .hero.scroll-mode .hero-content p{ opacity:0 !important; transition:opacity 0.3s ease; }
      .hero.scroll-mode .hero-content .hero-cta{ opacity:1 !important; pointer-events:auto; position:relative; z-index:10; }
      .hero.scroll-mode .hero-bg{ overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch; scroll-snap-type:x mandatory; filter:none !important; }
      .hero.scroll-mode .hero-bg img{ width:190%; margin-left:0; scroll-snap-align:start; filter:brightness(1); }
      .hero.scroll-mode .hero-bg::-webkit-scrollbar{ display:none; }
      /* Mobile: replace the big “scroll” pill with subtle arrows so the image stays visible */
      .hero-scroll-hint{ display:none !important; }

      .hero.scroll-mode::before,
      .hero.scroll-mode::after{
        position:absolute;
        top:50%;
        transform:translateY(-50%);
        width:34px;
        height:34px;
        border-radius:999px;
        display:flex;
        align-items:center;
        justify-content:center;
        background:rgba(0,0,0,0.28);
        color:rgba(255,255,255,0.92);
        font-size:24px;
        line-height:1;
        z-index:6;
        pointer-events:none;
        box-shadow:0 6px 18px rgba(0,0,0,0.22);
        text-shadow:0 2px 10px rgba(0,0,0,0.35);
      }
      .hero.scroll-mode::before{ content:"\2039"; left:10px; }
      .hero.scroll-mode::after{ content:"\203A"; right:10px; }

      /* Locations (expanded): show arrows on the image layer */
      .global-presence-scroll-hint{ display:none !important; }

      /* IMPORTANT: arrows must NOT be inside the scroll container (otherwise they scroll away).
         We overlay them via a separate element positioned over the section. */
      .global-presence-arrows{ display:none; }
      .global-presence.is-expanded .global-presence-arrows{
        display:block;
        position:absolute;
        inset:0;
        z-index:6;
        pointer-events:none;
      }
      .global-presence.is-expanded .global-presence-arrows::before,
      .global-presence.is-expanded .global-presence-arrows::after{
        position:absolute;
        top:50%;
        transform:translateY(-50%);
        width:34px;
        height:34px;
        border-radius:999px;
        display:flex;
        align-items:center;
        justify-content:center;
        background:rgba(0,0,0,0.28);
        color:rgba(255,255,255,0.92);
        font-size:24px;
        line-height:1;
        box-shadow:0 6px 18px rgba(0,0,0,0.22);
        text-shadow:0 2px 10px rgba(0,0,0,0.35);
        opacity:0.95;
      }
      .global-presence.is-expanded .global-presence-arrows::before{ content:"\2039"; left:10px; }
      .global-presence.is-expanded .global-presence-arrows::after{ content:"\203A"; right:10px; }

      /* Hero text fade-in animation */
      @keyframes heroFadeIn{
        from{ opacity:0; transform:translateY(20px); }
        to{ opacity:1; transform:translateY(0); }
      }
      .hero-content{
        animation: heroFadeIn 0.8s ease-out 0.3s both;
      }
      .hero-content h1{ animation: heroFadeIn 0.7s ease-out 0.4s both; }
      .hero-content .hero-subtitle{ animation: heroFadeIn 0.7s ease-out 0.55s both; }
      .hero-content p{ animation: heroFadeIn 0.7s ease-out 0.7s both; }
      .hero-content .hero-cta{ animation: heroFadeIn 0.6s ease-out 0.85s both; }

      .hero .hero-cta{
        display:inline-block;
        margin-top:14px;
        padding:12px 22px;
        border-radius:999px;
        background: var(--badiani-pink);
        color:#fff;
        text-decoration:none;
        font-size:14px;
        letter-spacing:1.5px;
        text-transform:uppercase;
        font-weight:600;
        box-shadow:0 8px 22px rgba(240,103,166,0.28);
      }
      
      /* Divider */
      /* Dividers removed */
      
      /* Titoli sezione */
      .section-title,
      .story-title,
      .heritage h2,
      .contact h2{
        font-size:clamp(20px, 6.2vw, 26px);
        letter-spacing:0.5px;
        text-align:center;
      }
      .section-title{ padding-left:0; }
      .section-title::before{ display:none; }
      .section-subtitle{ font-size:3.5vw; padding:0 15px; }
      
      /* Gallery proporzionata */
      .gallery{ padding:40px 10px; }
      .gallery h2{ font-size:6vw; }
      .gallery-subtitle{ font-size:3.5vw; padding:0 15px; margin-bottom:25px; }
      .gallery-grid{ gap:12px; min-height:auto; padding:0 10px; flex-wrap:wrap; justify-content:center; }
      .gallery-item{ width:22vw; height:22vw; max-width:100px; max-height:100px; border-width:3px; }
      /* Mobile sizes only (hover behavior is handled globally via hover media queries) */
      
      /* Barattolo proporzionato */
      .barattolo-intro{ padding:0; margin:0; background:transparent !important; }
      .barattolo-intro::before{ display:none !important; }
      .barattolo-intro-content{ grid-template-columns:1fr; gap:0; padding:0; margin:0; background:transparent; } 
      .barattolo-image-pila{ aspect-ratio:9/16; max-width:100%; width:100%; max-height:none; margin:0 auto; padding:0; display:flex; align-items:center; justify-content:center; line-height:0; font-size:0; overflow:hidden; background:#fff !important; border-bottom: 0; }
      .barattolo-image-pila video{ width:100%; height:100%; min-height:0; max-height:none; object-fit:contain; object-position:center; border-radius:0; box-shadow:none; display:block; margin:0; padding:0; background:#fff; } 
      .barattolo-image-pila video::-webkit-media-controls-start-playback-button,
      .barattolo-image-pila video::-webkit-media-controls{
        display:none !important;
        -webkit-appearance:none;
      }
      .barattolo-text{ text-align:center; padding:40px 15px; background:#3d4f8f url('assets/barattolo-tab.webp?v=20251222') center/cover no-repeat; border-top: none; } 
      .barattolo-text h2{font-size:6vw;}
      .barattolo-text p{ font-size:3.5vw; line-height:1.6; }
      .barattolo-text .barattolo-cta{ align-self:center; }
      
      /* Mission/Vision proporzionato */
      /* Mission/Vision: tab system to save vertical space */
      .mission-vision{
        display:block;
        position:relative;
      }
      .mv-tabs{
        display:flex;
        border-radius:12px;
        overflow:hidden;
        margin:0 auto 0;
        max-width:240px;
        background:rgba(0,0,0,0.2);
        position:absolute;
        top:28px;
        left:50%;
        transform:translateX(-50%);
        z-index:10;
        padding:3px;
        gap:4px;
        box-shadow:0 2px 8px rgba(0,0,0,0.15);
      }
      .mv-tab{
        flex:1;
        padding:10px 16px;
        text-align:center;
        font-size:11px;
        font-weight:700;
        text-transform:uppercase;
        letter-spacing:1.5px;
        color:rgba(255,255,255,0.85);
        background:transparent;
        border:none;
        cursor:pointer;
        transition:all 0.3s ease;
        border-radius:10px;
        border-bottom:3px solid transparent;
        font-family:'SuperGroteskDigits', 'SuperGroteskC', 'SuperGroteskA', 'SuperGroteskB', sans-serif;
      }
      .mv-tab[data-target="mission-box"].is-active{
        background:var(--badiani-blue);
        color:#fff;
        border-radius:10px;
        box-shadow:0 3px 10px rgba(30,57,141,0.4);
        border-bottom:3px solid var(--badiani-blue);
      }
      .mv-tab[data-target="vision-box"].is-active{
        background:var(--badiani-pink);
        color:#fff;
        border-radius:10px;
        box-shadow:0 3px 10px rgba(240,103,166,0.4);
        border-bottom:3px solid var(--badiani-pink);
      }
      .mission-box, .vision-box{
        padding:80px 16px 20px;
        min-height:280px;
        display:none;
        text-align:center;
        align-items:center;
      }
      .mission-box.is-active, .vision-box.is-active{ display:flex; }
      .mission-box h2, .vision-box h2{ font-size:clamp(16px, 5vw, 20px); margin-bottom:8px; }
      .mission-box p strong,
      .vision-box p strong{
        font-family:'SuperGroteskDigits', 'SuperGroteskB', 'SuperGroteskA', 'SuperGroteskC', sans-serif;
        font-weight:600;
        text-transform:uppercase;
        letter-spacing:0.8px;
        font-size:clamp(18px, 3.24vw, 45.6px);
        line-height:1.05;
      }
      .mission-box p, .vision-box p{ font-size: var(--section-desc-size); line-height: var(--section-desc-line); margin-bottom: var(--section-gap-sm); }
      .mission-box p:last-child, .vision-box p:last-child{ margin-bottom:0; }
      
      /* Products proporzionato - ultra compact */
      .products{ padding:20px 8px; }
      .products-grid{ grid-template-columns:1fr; gap:10px; padding:0 4px; }
      .card{ max-width:100%; }
      .card-img{ aspect-ratio: auto; }
      .card-header{ padding:8px 10px 4px; }
      .card-body{ padding:6px 10px 12px; text-align:center; }
      .card-name{ font-size:clamp(25px, 7vw, 30px); margin-bottom:2px; letter-spacing:0.6px; }
      .card-description{
        font-size:clamp(9.4px, 2.6vw, 11.7px);
        line-height:1.4;
        margin-bottom:8px;
        text-align:center !important;
      }
      .card-description br{ display:none; }
      .percent-boost{ font-size:1.06em; }
      .card-sub{ font-size:clamp(17px, 4.7vw, 20px); letter-spacing:0.6px; }
      .card-features{ gap:4px; }
      .card-features li{
        font-size:clamp(10.35px, 2.79vw, 12.6px);
        padding:6px 8px;
        line-height:1.2;
        justify-content:center;
        text-align:center;
        gap:5px;
      }

      /* Mobile: never scale cards to avoid overlap */
      #products .card,
      #products .card.is-inview{
        transform:none !important;
        box-shadow:0 15px 50px rgba(0,0,0,0.15);
      }
      
      /* Why section - swipeable compact benefits */
      .why{ padding:24px 10px; }
      .why h2{ font-size:clamp(18px, 5.5vw, 24px); margin-bottom:6px; }
      .why-subtitle{ font-size:clamp(15px, 4.2vw, 18px); padding:0 6px; margin-bottom:12px; }
      .why-grid,
      .benefits{
        display:flex;
        gap:10px;
        overflow-x:auto;
        padding:6px 10px 10px;
        margin-left:-10px;
        margin-right:-10px;
        scroll-snap-type:x mandatory;
        -webkit-overflow-scrolling:touch;
      }
      .benefits::-webkit-scrollbar{ display:none; }
      .benefit{
        flex:0 0 68vw;
        max-width:260px;
        min-width:180px;
        padding:12px 10px;
        scroll-snap-align:start;
        border-radius:12px;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }
      .benefit h3{ font-size:clamp(16.8px, 5.04vw, 21px); margin-bottom:4px; flex-shrink:0; }
      .benefit p{ 
        font-size:clamp(15px, 4vw, 17px); 
        line-height:1.35;
        flex: 1;
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        align-content: center;
        justify-content: center;
        text-align: center;
      }
      .benefit p .highlight-pink{
        display: inline;
        white-space: nowrap;
        margin: 0 3px;
      }
      
      /* Contact proporzionato */
      .contact{ padding:40px 15px; }
      .contact h2{ padding-left:0; }
      .contact p{ font-size:4vw; padding:0 10px; }
      .contact p.highlight{ font-size:clamp(12px, 3.6vw, 16px); white-space:nowrap; }
      .cta-btn{ padding:12px 25px; font-size:3.5vw; letter-spacing:1.5px; }
      
      /* Footer proporzionato */
      footer{ padding:25px 15px; font-size:3.5vw; }

      /* Global Presence - cropped 15% each side */
      .global-presence{ 
        aspect-ratio:auto; 
        height:clamp(180px, 35vh, 280px);
      }
      .global-presence-bg img{ width:143%; left:50%; transform:translateX(-50%); }
      
      /* Heritage proporzionato - compact */
      .heritage{ padding:24px 12px; }
      .heritage h2{
        margin-bottom:8px;
        padding-left:0;
        text-align:center;
      }
      .heritage h2::before{ display:none; }
      .heritage p{ font-size:clamp(15px, 4vw, 17px); line-height:1.5; }
      .story-lead{ font-size:clamp(15px, 4.2vw, 17px); line-height:1.5; padding:0 6px; }

      /* Heritage stats: ultra-compact chips */
      .heritage-intro{ margin:0 auto 12px; }
      .stats{
        grid-template-columns: repeat(4, 1fr);
        gap: 4px;
        max-width: 100%;
        width: 100%;
        margin: 0 auto;
        padding: 0;
      }
      .stat{
        padding: 8px 4px;
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 3px;
        min-height: 0;
        aspect-ratio: 1/1;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        border: 1px solid rgba(255,255,255,0.3);
      }
      .stat::before{
        content:"";
        position:absolute;
        inset:0;
        background:linear-gradient(135deg, rgba(255,255,255,0.22), rgba(255,255,255,0.02));
        opacity:0.9;
        pointer-events:none;
      }
      .stat > *{ position:relative; z-index:1; }
      .stat-num{
        font-size: clamp(18px, 5vw, 24px);
        margin-bottom: 0;
        line-height: 1;
        font-weight: 700;
      }
      .stat-label{
        font-size: clamp(10px, 2.8vw, 13px);
        letter-spacing: 0.3px;
        line-height: 1.15;
        text-align: center;
        max-width: 100%;
        display: -webkit-box;
        -webkit-box-orient:vertical;
        -webkit-line-clamp:2;
        line-clamp:2;
        overflow:hidden;
      }
      /* touch devices: no hover lift */
      .stat:hover{ transform:none; }

      /* Story timeline - ultra compact swipeable */
      /* IMPORTANT: su mobile non tagliare card/ombre laterali */
      .buontalenti-story{ padding:24px 10px; overflow:visible; }
      .story-header{ margin-bottom:14px; }
      .story-title{
        font-size:clamp(18px, 6.5vw, 26px);
        padding-left:0;
        display:inline-flex;
        flex-wrap:wrap;
        justify-content:center;
        align-items:center;
        gap:0;
        text-align:center;
        margin:0 auto 12px;
      }
      .story-title::before{ display:none; }
      .story-title-main{ display:inline; }
      .story-title-buontalenti{ font-size:1.44em; }
      .story-title-sub{
        display:block;
        flex-basis:100%;
        width:100%;
        font-size:inherit;
        line-height:1.05;
        margin-top:2px;
      }
      html[lang="en"] .story-title-sub{ white-space:nowrap; }
      .story-timeline{
        display:flex;
        gap:10px;
        overflow-x:auto;
        padding:6px 10px 10px;
        margin-left:-10px;
        margin-right:-10px;
        margin-top:10px;
        scroll-snap-type:x mandatory;
        scroll-padding-left:10px;
        -webkit-overflow-scrolling: touch;
      }
      .story-timeline::-webkit-scrollbar{ display:none; }
      .timeline-item{
        flex:0 0 70vw;
        max-width:280px;
        min-width:200px;
        padding:12px 10px;
        scroll-snap-align:start;
        border-left-width:0;
        border-left:0;
        border-radius:12px;
        box-shadow:0 6px 18px rgba(0,0,0,0.08);
        background:rgba(255,255,255,0.55);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px);
        text-align:center;
      }
      .timeline-year{ font-size:clamp(20px, 7vw, 30px); margin-bottom:4px; letter-spacing:0.5px; text-align:center; }
      .timeline-title{ font-size:clamp(15px, 4.2vw, 17px); margin-bottom:4px; text-align:center; }
      /* Compact by default: meno scroll verticale, espandibile con tap */
      .timeline-desc{
        font-size:clamp(13px, 3.6vw, 16px);
        line-height:1.35;
        display:block;
        overflow:visible;
        text-align:center;
        word-break:break-word;
        hyphens:auto;
        padding-left:6px;
        padding-right:6px;
      }
      .timeline-item{ cursor:pointer; }
      /* (overridden above) */
      
      /* Locations proporzionato */
      .locations-strip{ padding:35px 10px; }
      .locations-strip h2{ font-size:5vw; }
      .locations-list{ font-size:3vw; gap:10px; flex-wrap:wrap; justify-content:center; }
      
      /* Specs overlay proporzionato - centered on Android */
      .specs-overlay-content{
        flex-direction:column;
        align-items:center;
        justify-content:center;
        padding:42px 10px 22px;
        min-height:100vh;
        height:100dvh;
        overflow:hidden;
        gap:10px;
      }
      /* +50% photo size on mobile */
      .specs-overlay-image{width:min(68vw, 240px);max-height:26vh;flex-shrink:0;}
      .specs-overlay-image img{padding:4px;}
      .specs-panel-fullscreen{width:92vw;max-width:360px;max-height:48vh;overflow:hidden;padding:10px;flex-shrink:0;}
      .specs-panel-title{font-size:14px;margin-bottom:6px;padding-bottom:4px;}
      .specs-grid{gap:4px;}
      .spec-card{padding:5px 7px;border-radius:6px;border-left-width:2px;}
      .spec-label{font-size:11px;margin-bottom:2px;letter-spacing:0.2px;}
      .spec-value{font-size:12px;line-height:1.2;}
      .specs-close-btn{top:8px;right:8px;width:40px;height:40px;font-size:0;padding:0;line-height:0;font-family:system-ui, -apple-system, 'Segoe UI', Arial, sans-serif; --close-icon-size:16px; --close-icon-stroke:2px;}
    }
    
    @media(max-width:600px){ 
      /* Ancora più piccolo per schermi piccoli */
      .hero{min-height:45vh; padding:30px 12px 30px;} 
      .hero h1{font-size:6.5vw;} 
      .hero .hero-subtitle{font-size:3.8vw;}
      .hero p{font-size:3.4vw;}
      
      .gallery-item{ width:20vw; height:20vw; max-width:85px; max-height:85px; border-width:2px; }
      
      .nav-menu{ width:100%; padding:0 4px 6px; gap:4px; }
      .nav-menu a{ font-size:9px; padding:5px 7px; letter-spacing:0.8px; }
      
      .card-img{ aspect-ratio: auto; }
      
      .mission-box, .vision-box{ padding:70px 15px 20px; }
      
      
    }
    
    @media(max-width:400px){
      /* Ultra-piccolo per schermi molto stretti */
      header{ padding:10px 12px; }
      .logo-img{ height:40px; }
      
      .hero{min-height:40vh; padding:25px 10px;} 
      .hero h1{font-size:6vw;} 
      .hero .hero-subtitle{font-size:3.5vw;}
      
      .section-title,
      .story-title,
      .heritage h2,
      .contact h2{
        font-size:clamp(18px, 6vw, 24px);
        letter-spacing:0.5px;
        text-align:center;
      }
      .section-title{ padding-left:0; }
      .section-title::before{ display:none; }
      
      .gallery-item{ width:18vw; height:18vw; max-width:70px; max-height:70px; }
      
      .barattolo-image-pila{ width:100vw; max-width:none; } 
      .barattolo-image-pila video{ min-height:auto; }
      .barattolo-text h2{font-size:5.5vw;}
      
      .nav-menu{ width:100%; padding:0 4px 6px; gap:4px; }
      .nav-menu a{ font-size:9px; padding:4px 6px; letter-spacing:0.7px; }
      
      .cta-btn{ padding:10px 20px; font-size:3.2vw; }
      
      .stat{ min-height:70px; padding:12px 24px; aspect-ratio:2.5/1; }
      .stat-num{ font-size:clamp(17px, 6.8vw, 24px); }
    }

    /* HERO BG: full-width photo (no crop). The image defines the hero height. */
    .hero{
      height:auto;
      padding:0;
      display:block;
    }

    .hero .hero-bg{
      position:relative;
      top:auto; left:auto; right:auto; bottom:auto;
      background-image: none;
      background: none;
      transform: none;
      transform-origin: center;
      width:100%;
      height:auto;
    }

    .hero .hero-bg img{
      display:block;
      width:100%;
      height:auto;
      max-width:none;
    }

    /* Mobile: hero photo cropped sides, original height */
    @media(max-width:900px){
      .hero .hero-bg{ height:clamp(320px, 52vh, 480px); background:#1e398d; overflow:hidden; }
      .hero .hero-bg img{ width:190%; max-width:none; height:100%; -o-object-fit:cover; object-fit:cover; -o-object-position:center; object-position:center; margin-left:-45%; -webkit-transform:none; transform:none; }
    }

    /* No hover zoom */
    .hero:hover .hero-bg{
      -webkit-transform: none;
      transform: none;
    }

    /* Elimina lo spazietto tra barra rosa e foto hero (seam da sub-pixel) */
    #hero{ margin-top: -1px; }

    /* Cross-browser compatibility enhancements */
    /* Android Chrome, Samsung Internet, Firefox Mobile fixes */
    @supports (-webkit-touch-callout: none) {
      /* iOS Safari specific */
      body { -webkit-overflow-scrolling: touch; }
    }

    /* Fix for older Android browsers */
    img { 
      max-width: 100%; 
      height: auto;
      -ms-interpolation-mode: bicubic;
    }

    /* Prevent text inflation on rotation (Android) */
    html {
      -webkit-text-size-adjust: 100%;
      -moz-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }

    /* Smooth scrolling with fallback */
    @supports (scroll-behavior: smooth) {
      html { scroll-behavior: smooth; }
    }

    /* Fix for Samsung Internet button styling */
    button, input, select, textarea {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      border-radius: 0;
    }

    /* Ensure videos work on all mobile browsers */
    video {
      max-width: 100%;
      height: auto;
    }

    /* Fix for Firefox mobile touch events */
    * {
      touch-action: manipulation;
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {
      .nav-menu a, .cta-btn, .mv-tab {
        border: 2px solid currentColor;
      }
    }

    /* Final override: remove heading squares in mobile build */
    .section-title::before,
    .story-title::before,
    .heritage h2::before,
    .contact h2::before{
      content: none !important;
      display: none !important;
      width: 0 !important;
      height: 0 !important;
    }
    .section-title,
    .story-title,
    .heritage h2,
    .contact h2{
      padding-left: 0 !important;
      text-align: center !important;
    }
  </style>
</head>
<body>

<div class="header-wrapper">
  <header>
    <a class="logo-link" id="logoLink" href="#hero" aria-label="Back to top">
      <img src="assets/extracted/f473fa4a48ae6948929084c736e84f6274322e2d.webp" alt="Badiani Gelato Firenze 1932" class="logo-img">
    </a>

    <nav class="nav-menu" id="navMenu">
      <a href="#products">Products</a>
      <a href="#story">Story</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="menu-toggle" id="menuToggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </header>
</div>


<section id="hero" class="hero">
  <div class="hero-bg" aria-hidden="true">
    <img src="freezer-prodotti.webp" alt="" decoding="async" loading="eager">
  </div>
  <div class="hero-content">
    <h1 data-i18n-html="hero.titleHtml">The Barattolo <span>GELATO</span></h1>
    <p class="hero-subtitle">A Creative Flavour Journey from Florence</p>
    <p>Authentic Florentine artisan gelato for premium retail distribution. Over 90 years of gelato-making excellence from the birthplace of gelato.</p>
    <a class="hero-cta" href="#products" aria-label="Jump to products">Explore Flavours</a>
  </div>
</section>


<section id="story" class="buontalenti-story">
  <div class="story-inner">
    <div class="story-header">
      <h2 class="story-title"><span class="story-title-main"><span class="story-title-buontalenti">Buontalenti</span>: la crema</span> <span class="story-title-sub">che ha fatto la storia</span></h2>
      <p class="story-lead">
        In the 1960s, in Florence, Badiani dedicated a special flavour to <span class="highlight-pink">Bernardo Buontalenti</span>, the Renaissance architect to whom tradition attributes the birth of <span class="highlight-pink">gelato</span> in the 16th century.
      </p>
    </div>

    <div class="story-timeline">
      <div class="timeline-item">
        <div class="timeline-year">1500s</div>
        <div class="timeline-title">The Origin</div>
        <p class="timeline-desc">Bernardo Buontalenti invents gelato in <span class="highlight-pink">Renaissance&nbsp;Florence,</span> creating a frozen delicacy for the Medici court.</p>
      </div>

      <div class="timeline-item">
        <div class="timeline-year">1960s</div>
        <div class="timeline-title">The Tribute</div>
        <p class="timeline-desc">Badiani creates the "Buontalenti" cream with <span class="highlight-pink">4 simple ingredients</span> (cream, milk, sugar, eggs) honouring the inventor.</p>
      </div>

      <div class="timeline-item">
        <div class="timeline-year" data-i18n="story.tl.year.today">TODAY</div>
        <div class="timeline-title">The Legacy</div>
        <p class="timeline-desc">Il Barattolo Gelato brings this iconic Florentine flavour to <span class="highlight-pink">premium retail</span> worldwide.</p>
      </div>
    </div>
  </div>
</section>


<section id="heritage" class="heritage">
  <h2>A Legacy of Excellence</h2>
  <p class="heritage-intro">
    Born in <span class="highlight-pink">Florence in 1932</span>, Badiani is one of the world's most prestigious gelato producers. From the birthplace of gelato, we have built an international presence spanning five countries across three continents.
  </p>
  <div class="stats">
    <div class="stat">
      <div class="stat-num">1932</div>
      <div class="stat-label">Founded in Florence</div>
    </div>
    <div class="stat">
      <div class="stat-num">30+</div>
      <div class="stat-label">Stores Worldwide</div>
    </div>
    <div class="stat">
      <div class="stat-num">100%</div>
      <div class="stat-label">Italian Quality</div>
    </div>
    <div class="stat">
      <div class="stat-num">5</div>
      <div class="stat-label">Countries</div>
    </div>
  </div>
</section>



<section id="barattolo" class="barattolo-intro">
  <div class="barattolo-intro-content">
    <div class="barattolo-image-pila">
      <video id="barattoloVideo" autoplay muted loop playsinline webkit-playsinline preload="auto">
        <source src="../1220.mp4" type="video/mp4">
      </video>
    </div>
    <div class="barattolo-text">
      <h2>Il Barattolo <span>GELATO</span></h2>
      <p>
        Thanks to the success of our Buontalenti, Buontalenti Pistacchio, and La Dolcevita flavours, we have developed <span class="highlight-pink">Il Barattolo GELATO</span> — a premium line designed for <span class="highlight-pink">large-scale distribution</span>.
      </p>
      <p>
        This innovative format brings the authentic artisanal quality of our gelato to a wider audience, making it more accessible without compromising on ingredient excellence and traditional craftsmanship.
      </p>
      <p>
        With Il Barattolo Gelato, everyone can enjoy the rich, creamy flavours that have made Badiani famous, now in a convenient <span class="highlight-pink">500ml format</span>.
      </p>
      <a href="mailto:retail@badiani1932.com" class="cta-btn barattolo-cta" aria-label="Request distribution information via email">REQUEST SAMPLES AND PRICES NOW</a>
    </div>
  </div>
</section>


<section id="products" class="products">
  <h2 class="section-title">Premium <span>Collection</span></h2>
  <p class="section-subtitle">Three iconic flavours, authentic Florentine craftsmanship</p>

  <div class="products-grid">

    <article class="card classico">
      <div class="card-img" onclick="openSpecs('classico', 'BUONTALENTI CLASSICO')">
        <a class="card-btn" href="#" aria-label="View Buontalenti Classico specs" onclick="event.stopPropagation(); return false;">View Specs</a>
        <img src="classico.webp" alt="Buontalenti Classico">
      </div>
      <div class="card-header">
        <div class="card-name">BUONTALENTI CLASSICO</div>
        <div class="card-sub">La Crema Fiorentina</div>
      </div>
      <div class="card-body">
        <p class="card-description">
          Our world-famous flagship flavour made with only <span class="highlight-pink">four ingredients</span>: cream, milk, sugar, and free-range eggs.
        </p>
        <ul class="card-features">
          <li>4 ingredients only</li>
          <li>Free-range eggs</li>
          <li>Gluten-free</li>
          <li>24-month shelf life</li>
        </ul>
      </div>
    </article>

    <article class="card dolcevita">
      <div class="card-img" onclick="openSpecs('dolcevita', 'BUONTALENTI DOLCEVITA')">
        <a class="card-btn" href="#" aria-label="View Buontalenti Dolcevita specs" onclick="event.stopPropagation(); return false;">View Specs</a>
        <div class="card-award">Best Flavour 2015</div>
        <img src="dolcevita.webp" alt="Buontalenti Dolcevita">
      </div>
      <div class="card-header">
        <div class="card-name">BUONTALENTI DOLCEVITA</div>
        <div class="card-sub">Variegata alla Gianduia</div>
      </div>
      <div class="card-body">
        <p class="card-description">
          Custard gelato with <span class="highlight-pink">gianduia</span> hazelnut-cocoa spread (<span class="percent-boost">20%</span>). Made with Italian hazelnut paste and Madagascar Bourbon vanilla.
        </p>
        <ul class="card-features">
          <li>Italian hazelnut 2.6%</li>
          <li>Madagascar vanilla</li>
          <li>Gluten-free</li>
          <li>Award-winning</li>
        </ul>
      </div>
    </article>

    <article class="card pistacchio">
      <div class="card-img" onclick="openSpecs('pistacchio', 'BUONTALENTI PISTACCHIO')">
        <a class="card-btn" href="#" aria-label="View Buontalenti Pistacchio specs" onclick="event.stopPropagation(); return false;">View Specs</a>
        <div class="card-award">World Best-Seller</div>
        <img src="pistacchio.webp" alt="Buontalenti Pistacchio">
      </div>
      <div class="card-header">
        <div class="card-name">BUONTALENTI PISTACCHIO</div>
        <div class="card-sub">Variegata al Pistacchio</div>
      </div>
      <div class="card-body">
        <p class="card-description">
          Our most popular flavour worldwide. Custard gelato swirled with pistachio spreadable cream (<span class="percent-boost">20%</span>) and <span class="highlight-pink">5% pure pistachio</span> paste.
        </p>
        <ul class="card-features">
          <li>5% pistachio paste</li>
          <li>Free-range eggs</li>
          <li>Gluten-free</li>
          <li>Global favourite</li>
        </ul>
      </div>
    </article>

  </div>
</section>



<section id="mission" class="mission-vision">
  <nav class="mv-tabs" aria-label="Mission and Vision tabs">
    <button class="mv-tab is-active" data-target="mission-box" aria-selected="true" data-i18n="mission.tab.mission">Mission</button>
    <button class="mv-tab" data-target="vision-box" aria-selected="false" data-i18n="mission.tab.vision">Vision</button>
  </nav>
  <div class="mission-box is-active">
    <p><strong>Bring Flavour to Your Life</strong></p>
    <p>To bring joy to consumers of all ages through our iconic artisan gelato, always adhering to principles of high quality and sustainability.</p>
  </div>
  <div class="vision-box">
    <p><strong>Inspiring the World with Gelato</strong></p>
    <p>To become the finest gelato brand in the world and inspire people with the taste of freshly-made artisan products.</p>
  </div>
</section>


<div class="specs-overlay" id="specsOverlay" onclick="closeSpecsOnBackground(event)">
  <div class="specs-overlay-bg"></div>
  <button class="specs-close-btn" onclick="closeSpecs(event)">&times;</button>
  <div class="specs-overlay-content">
    <div class="specs-overlay-image">
      <img id="overlayImage" src="" alt="">
    </div>
    <div class="specs-panel-fullscreen">
      <h3 class="specs-panel-title" id="overlayTitle"></h3>
      <div class="specs-grid" id="overlaySpecsContent"></div>
    </div>
  </div>
</div>

<section id="gallery" class="gallery">
  <h2>Heritage-Inspired Texture</h2>
  <p class="gallery-subtitle">Beautiful variegated swirls capture the authentic look and feel of our boutique gelato, crafted for a superior sensory experience</p>
  <div class="gallery-grid">
    <div class="gallery-item"><img src="top-classico.webp" alt="Buontalenti Classico top view" loading="lazy"></div>
    <div class="gallery-item"><img src="top-dolcevita.webp" alt="Buontalenti Dolcevita top view" loading="lazy"></div>
    <div class="gallery-item"><img src="top-pistacchio.webp" alt="Buontalenti Pistacchio top view" loading="lazy"></div>
</div>
</section>


<section id="locations" class="global-presence">
  <div class="global-presence-bg" aria-hidden="true">
    <img src="worldwide.webp?v=20251222" alt="" loading="lazy" decoding="async">
  </div>
  <div class="global-presence-arrows" aria-hidden="true"></div>
  <div class="global-presence-headline">
    <h2 class="world-means-title" aria-label="Badiani around the world means gelato">
      <span class="wmt-top">Badiani Around The World</span>
      <span class="wmt-mid">Means</span>
      <span class="wmt-bottom">Gelato</span>
    </h2>
  </div>
  <div class="global-presence-scroll-hint" aria-hidden="true">← Scorri per vedere tutto →</div>
</section>


<section id="why" class="why">
  <h2>Why Choose <span>Badiani</span></h2>
  <div class="benefits">
    <div class="benefit">
      <h3>Heritage</h3>
      <p><span class="highlight-pink">93 years</span> of gelato-making excellence from Florence, the birthplace of gelato</p>
    </div>
    <div class="benefit">
      <h3>Global Presence</h3>
      <p>30+ stores worldwide including the <span class="highlight-pink">Louvre Museum</span> in Paris</p>
    </div>
    <div class="benefit">
      <h3>Quality</h3>
      <p>Premium Italian ingredients and award-winning recipes, bringing the true heritage of Florence to the world.</p>
    </div>
    <div class="benefit">
      <h3>Retail Ready</h3>
      <p>500ml format, <span class="highlight-pink">24-month shelf life</span> at -18°C, EUR/EPAL pallet compatible</p>
    </div>
  </div>
</section>




<section id="contact" class="contact">
  <h2>Partner With Badiani</h2>
  <p class="highlight">Bring the authentic taste of Florence to your customers</p>
  <p>retail@badiani1932.com &middot; www.badiani1932.com</p>
  <a id="requestDistributionBtn" href="mailto:retail@badiani1932.com" class="cta-btn" aria-label="Request distribution information via email">REQUEST SAMPLES AND PRICES NOW</a>
</section>

<footer>
  &copy; 2025 <span>Badiani Gelato Firenze 1932</span> &middot; MADE in Italy
</footer>

<script>
const specsData = {
  classico: { image: 'classico-open.webp', specs: [ {label:'Product Code', value:'BBT-0010'}, {label:'Description', value:'Custard Gelato'}, {label:'Net Weight', value:'500ml / 300g'}, {label:'EAN Product', value:'8056214620017'}, {label:'EAN Carton', value:'08056214620109'}, {label:'Shelf Life', value:'24 months at -18°C (-0.4°F)'}, {label:'Energy', value:'255 kcal / 1066 kJ per 100g'}, {label:'Allergens', value:'MILK, EGGS'}, {label:'May Contain', value:'SOY, NUTS, PEANUTS'}, {label:'Gluten', value:'GLUTEN FREE'} ] },
  dolcevita: { image: 'dolcevita-open.webp', specs: [ {label:'Product Code', value:'BDV-0020'}, {label:'Description', value:'Custard gelato with gianduia spread 20%'}, {label:'Net Weight', value:'500ml / 300g'}, {label:'EAN Product', value:'8056214620031'}, {label:'EAN Carton', value:'08056214620307'}, {label:'Shelf Life', value:'24 months at -18°C (-0.4°F)'}, {label:'Energy', value:'333 kcal / 1385 kJ per 100g'}, {label:'Allergens', value:'MILK, HAZELNUTS, EGGS'}, {label:'May Contain', value:'SOY, other NUTS, PEANUTS'}, {label:'Gluten', value:'GLUTEN FREE'} ] },
  pistacchio: { image: 'pistacchio-open.webp', specs: [ {label:'Product Code', value:'BBTP-0030'}, {label:'Description', value:'Custard gelato with pistachio spread 20%'}, {label:'Net Weight', value:'500ml / 300g'}, {label:'EAN Product', value:'8056214620055'}, {label:'EAN Carton', value:'08056214620505'}, {label:'Shelf Life', value:'24 months at -18°C (-0.4°F)'}, {label:'Energy', value:'333 kcal / 1385 kJ per 100g'}, {label:'Allergens', value:'MILK, PISTACHIO'}, {label:'May Contain', value:'SOY, other NUTS, PEANUTS'}, {label:'Gluten', value:'GLUTEN FREE'} ] }
};

let __lastOpenedSpecs = null;

function renderSpecs(productId, title) {
  const overlay = document.getElementById('specsOverlay');
  const overlayImage = document.getElementById('overlayImage');
  const overlayTitle = document.getElementById('overlayTitle');
  const overlaySpecsContent = document.getElementById('overlaySpecsContent');
  const data = specsData[productId];
  if (!overlay || !overlayImage || !overlayTitle || !overlaySpecsContent || !data) return;

  overlayImage.src = data.image;
  overlayTitle.textContent = title;

  const i18n = window.BadianiI18n;
  let specsHTML = '';
  data.specs.forEach(spec => {
    const labelKey = i18n && i18n.translateSpecLabelLabelToKey ? i18n.translateSpecLabelLabelToKey(spec.label) : null;
    const label = labelKey && i18n && i18n.t ? i18n.t(labelKey) : spec.label;
    const value = i18n && i18n.translateSpecValue ? i18n.translateSpecValue(productId, spec.label, spec.value) : spec.value;
    specsHTML += `<div class="spec-card"><span class="spec-label">${String(label).toUpperCase()}</span><span class="spec-value">${value}</span></div>`;
  });
  overlaySpecsContent.innerHTML = specsHTML;
}


let specsOpenTimeout = null;
function openSpecs(productId, title) {
  // Previeni doppi tap
  if (specsOpenTimeout) return;
  specsOpenTimeout = setTimeout(() => { specsOpenTimeout = null; }, 500);

  __lastOpenedSpecs = { productId, title };
  renderSpecs(productId, title);

  const overlay = document.getElementById('specsOverlay');
  if (overlay) overlay.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeSpecs(event) {
  if(event) event.stopPropagation();
  const overlay = document.getElementById('specsOverlay');
  overlay.classList.remove('active');
  document.body.style.overflow = '';
}

function closeSpecsOnBackground(event) {
  const overlay = document.getElementById('specsOverlay');
  if (!overlay || !overlay.classList.contains('active')) return;

  // If the tap/click happened inside the visible panel (image or specs card), do nothing.
  // We intentionally allow the outer container/padding area to behave like a backdrop.
  const t = event && event.target;
  if (t && t.closest) {
    if (t.closest('.specs-overlay-image, .specs-panel-fullscreen, .specs-close-btn')) return;
  }

  // Otherwise, any click within the overlay closes it (including the black background).
  closeSpecs(event);
}

// If the language changes while the specs overlay is open, re-render the labels.
if (window.BadianiI18n && window.BadianiI18n.onChange) {
  window.BadianiI18n.onChange(() => {
    const overlay = document.getElementById('specsOverlay');
    if (!overlay || !overlay.classList.contains('active') || !__lastOpenedSpecs) return;
    renderSpecs(__lastOpenedSpecs.productId, __lastOpenedSpecs.title);
  });
}

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeSpecs();
  }
});

const menuToggle = document.getElementById('menuToggle');
const navMenu = document.getElementById('navMenu');

// Crea overlay per menu mobile
const menuOverlay = document.createElement('div');
menuOverlay.className = 'menu-overlay';
menuOverlay.style.cssText = 'position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:999;opacity:0;visibility:hidden;transition:all 0.3s ease;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);';
document.body.appendChild(menuOverlay);

menuToggle.addEventListener('click', () => {
  menuToggle.classList.toggle('active');
  navMenu.classList.toggle('active');
  if(navMenu.classList.contains('active')){
    menuOverlay.style.opacity = '1';
    menuOverlay.style.visibility = 'visible';
    document.body.style.overflow = 'hidden';
  } else {
    menuOverlay.style.opacity = '0';
    menuOverlay.style.visibility = 'hidden';
    document.body.style.overflow = '';
  }
});

menuOverlay.addEventListener('click', () => {
  menuToggle.classList.remove('active');
  navMenu.classList.remove('active');
  menuOverlay.style.opacity = '0';
  menuOverlay.style.visibility = 'hidden';
  document.body.style.overflow = '';
});

// Logo tap: scroll back to top (hero) and close menu if open
const logoLink = document.getElementById('logoLink');
if (logoLink) {
  logoLink.addEventListener('click', (e) => {
    e.preventDefault();
    // Close mobile menu if open
    if (menuToggle && navMenu && menuOverlay) {
      menuToggle.classList.remove('active');
      navMenu.classList.remove('active');
      menuOverlay.style.opacity = '0';
      menuOverlay.style.visibility = 'hidden';
      document.body.style.overflow = '';
    }

    const hero = document.getElementById('hero');
    if (hero && hero.scrollIntoView) {
      hero.scrollIntoView({ behavior: 'smooth', block: 'start' });
    } else {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  });
}

navMenu.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', () => {
    menuToggle.classList.remove('active');
    navMenu.classList.remove('active');
    menuOverlay.style.opacity = '0';
    menuOverlay.style.visibility = 'hidden';
    document.body.style.overflow = '';
  });
});

// Ensure the distribution CTA always opens the user's mail app
// (capture-phase so it wins over any future click handlers)
const requestDistributionBtn = document.getElementById('requestDistributionBtn');
if (requestDistributionBtn && requestDistributionBtn instanceof HTMLAnchorElement) {
  requestDistributionBtn.addEventListener('click', (e) => {
    e.preventDefault();
    e.stopPropagation();
    // Force navigation to mailto (some environments ignore default navigation)
    window.location.href = requestDistributionBtn.href;
  }, true);
}

document.addEventListener('DOMContentLoaded', () => {
  document.documentElement.classList.add('js');
    // Mobile: story timeline "compact" (clamped text) + tap-to-expand.
    // Keeps the cards short (less vertical space) and still readable on demand.
    (function setupStoryTimelineExpand(){
      const isMobile = window.matchMedia('(max-width: 900px)').matches;
      if (!isMobile) return;

      const timeline = document.querySelector('#story .story-timeline');
      if (!timeline) return;

      const items = Array.from(timeline.querySelectorAll('.timeline-item'));
      if (!items.length) return;

      // Make items focusable for keyboard users (and future-proof for non-touch).
      items.forEach((item) => {
        item.setAttribute('tabindex', '0');
        item.setAttribute('role', 'button');
        item.setAttribute('aria-expanded', item.classList.contains('is-open') ? 'true' : 'false');
      });

      let isDragging = false;
      let startX = 0;
      let startY = 0;

      timeline.addEventListener('pointerdown', (e) => {
        isDragging = false;
        startX = e.clientX;
        startY = e.clientY;
      }, { passive: true });

      timeline.addEventListener('pointermove', (e) => {
        if (isDragging) return;
        const dx = Math.abs(e.clientX - startX);
        const dy = Math.abs(e.clientY - startY);
        if (dx > 10 || dy > 10) isDragging = true;
      }, { passive: true });

      function toggleItem(item){
        // Close others to keep the section compact
        items.forEach((it) => {
          if (it !== item) {
            it.classList.remove('is-open');
            it.setAttribute('aria-expanded', 'false');
          }
        });
        const willOpen = !item.classList.contains('is-open');
        item.classList.toggle('is-open', willOpen);
        item.setAttribute('aria-expanded', willOpen ? 'true' : 'false');
      }

      timeline.addEventListener('click', (e) => {
        if (isDragging) return;
        const item = e.target && e.target.closest ? e.target.closest('.timeline-item') : null;
        if (!item) return;
        toggleItem(item);
      });

      timeline.addEventListener('keydown', (e) => {
        const key = e.key;
        if (key !== 'Enter' && key !== ' ') return;
        const item = e.target && e.target.closest ? e.target.closest('.timeline-item') : null;
        if (!item) return;
        e.preventDefault();
        toggleItem(item);
      });

      // Auto-reset when the Story section scrolls out of view
      if ('IntersectionObserver' in window) {
        const storySection = document.querySelector('#story');
        if (storySection) {
          const obs = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) return;
              items.forEach((it) => {
                it.classList.remove('is-open');
                it.setAttribute('aria-expanded', 'false');
              });
            });
          }, { threshold: 0.12 });
          obs.observe(storySection);
        }
      }
    })();

    // Mission/Vision tab switcher
    (function setupMVTabs(){
      const container = document.querySelector('.mission-vision');
      if (!container) return;
      const tabs = container.querySelectorAll('.mv-tab');
      const missionBox = container.querySelector('.mission-box');
      const visionBox = container.querySelector('.vision-box');
      if (!tabs.length || !missionBox || !visionBox) return;

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => { t.classList.remove('is-active'); t.setAttribute('aria-selected', 'false'); });
          tab.classList.add('is-active');
          tab.setAttribute('aria-selected', 'true');
          const target = tab.dataset.target;
          missionBox.classList.toggle('is-active', target === 'mission-box');
          visionBox.classList.toggle('is-active', target === 'vision-box');
        });
      });
    })();

    // Global Presence interactive zoom
    (function setupGlobalPresence(){
      const section = document.querySelector('.global-presence');
      if (!section) return;

      const scroller = section.querySelector('.global-presence-bg');
      if (!scroller) return;
      
      function centerScroller(){
        // Force a layout recalculation
        scroller.offsetHeight;
        
        // Now calculate scrollable width
        const max = scroller.scrollWidth - scroller.clientWidth;
        console.log('scrollWidth:', scroller.scrollWidth, 'clientWidth:', scroller.clientWidth, 'max:', max);
        
        if (max > 0) {
          scroller.scrollLeft = max / 2;
        }
      }

      function collapse(){
        section.classList.remove('is-expanded');
        section.style.cursor = '';
        scroller.scrollLeft = 0;
      }

      // Avoid toggling while the user is swiping/dragging
      let moved = false;
      let startX = 0;
      let startY = 0;
      let isDragging = false;
      let dragStartX = 0;
      let dragStartScrollLeft = 0;

      scroller.addEventListener('pointerdown', (e) => {
        moved = false;
        startX = e.clientX;
        startY = e.clientY;
        
        // Desktop: prepare for drag when expanded
        if (section.classList.contains('is-expanded') && e.pointerType === 'mouse') {
          isDragging = true;
          dragStartX = e.clientX;
          dragStartScrollLeft = scroller.scrollLeft;
          scroller.setPointerCapture && scroller.setPointerCapture(e.pointerId);
          section.style.cursor = 'grabbing';
          e.preventDefault();
        }
      });

      scroller.addEventListener('pointermove', (e) => {
        if (isDragging) {
          const dx = e.clientX - dragStartX;
          scroller.scrollLeft = dragStartScrollLeft - (dx * 1.6);
          return;
        }
        
        if (moved) return;
        const dx = Math.abs(e.clientX - startX);
        const dy = Math.abs(e.clientY - startY);
        if (dx > 10 || dy > 10) moved = true;
      }, { passive: true });

      scroller.addEventListener('pointerup', () => {
        if (isDragging) {
          isDragging = false;
          if (section.classList.contains('is-expanded')) section.style.cursor = 'grab';
        }
      });

      scroller.addEventListener('pointercancel', () => {
        if (isDragging) {
          isDragging = false;
          if (section.classList.contains('is-expanded')) section.style.cursor = 'grab';
        }
      });

      // Tap/click toggles expanded state (mobile requirement)
      section.addEventListener('click', (e) => {
        if (moved) return;

        section.classList.toggle('is-expanded');
        const expanded = section.classList.contains('is-expanded');

        // Cursor affordance only where it makes sense (mouse)
        section.style.cursor = expanded ? 'grab' : '';

        if (expanded) {
          // Center the scroll position immediately after class is applied
          requestAnimationFrame(() => {
            const max = scroller.scrollWidth - scroller.clientWidth;
            if (max > 0) {
              scroller.scrollLeft = max / 2;
            }
          });
        } else {
          // Reset scroll so the collapsed centered crop is stable
          scroller.scrollLeft = 0;
        }
      });

      // Auto-collapse when the section scrolls out of view
      if ('IntersectionObserver' in window) {
        const obs = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) return;
            collapse();
          });
        }, { threshold: 0.1 });
        obs.observe(section);
      }
    })();

    // Mobile: Gallery items tap-to-zoom (replaces hover)
    (function setupGalleryTapZoom(){
      const isMobile = window.matchMedia && (
        window.matchMedia('(hover: none) and (pointer: coarse)').matches ||
        window.matchMedia('(max-width: 900px)').matches
      );
      if (!isMobile) return;

      const section = document.querySelector('#gallery');
      const grid = document.querySelector('#gallery .gallery-grid');
      if (!grid) return;

      const items = Array.from(grid.querySelectorAll('.gallery-item'));
      if (!items.length) return;

      // Make items accessible + focusable
      items.forEach((item) => {
        item.setAttribute('tabindex', '0');
        item.setAttribute('role', 'button');
        item.setAttribute('aria-expanded', item.classList.contains('is-zoomed') ? 'true' : 'false');
      });

      let isDragging = false;
      let startX = 0;
      let startY = 0;

      grid.addEventListener('pointerdown', (e) => {
        isDragging = false;
        startX = e.clientX;
        startY = e.clientY;
      }, { passive: true });

      grid.addEventListener('pointermove', (e) => {
        if (isDragging) return;
        const dx = Math.abs(e.clientX - startX);
        const dy = Math.abs(e.clientY - startY);
        if (dx > 10 || dy > 10) isDragging = true;
      }, { passive: true });

      function closeAll(){
        items.forEach((it) => {
          it.classList.remove('is-zoomed');
          it.setAttribute('aria-expanded', 'false');
        });
        grid.classList.remove('has-zoom');
        section && section.classList.remove('has-zoom');
      }

      // Auto-close zoom if the gallery section leaves the viewport
      if ('IntersectionObserver' in window && section) {
        const obs = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) return;
            closeAll();
          });
        }, { threshold: 0.1 });
        obs.observe(section);
      }

      function toggleItem(item){
        const willOpen = !item.classList.contains('is-zoomed');
        closeAll();
        if (willOpen) {
          item.classList.add('is-zoomed');
          item.setAttribute('aria-expanded', 'true');
          grid.classList.add('has-zoom');
          section && section.classList.add('has-zoom');
        }
      }

      grid.addEventListener('click', (e) => {
        // Prevent outside handler from immediately closing
        e.stopPropagation();
        if (isDragging) return;
        const item = e.target && e.target.closest ? e.target.closest('.gallery-item') : null;
        if (!item) return;
        toggleItem(item);
      });

      grid.addEventListener('keydown', (e) => {
        const key = e.key;
        if (key !== 'Enter' && key !== ' ') return;
        const item = e.target && e.target.closest ? e.target.closest('.gallery-item') : null;
        if (!item) return;
        e.preventDefault();
        toggleItem(item);
      });

      // Tap outside the gallery to close
      document.addEventListener('click', (e) => {
        if (grid.contains(e.target)) return;
        closeAll();
      });

      // ESC closes when a gallery item is focused
      document.addEventListener('keydown', (e) => {
        if (e.key !== 'Escape') return;
        closeAll();
      });
    })();

    // Mobile: auto-zoom product cards while scrolling (when cards are in view)
    (function setupProductCardsInViewZoom(){
      const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduceMotion) return;

      const isMobile = window.matchMedia && (
        window.matchMedia('(hover: none) and (pointer: coarse)').matches ||
        window.matchMedia('(max-width: 900px)').matches
      );
      if (!isMobile) return;
      if (!('IntersectionObserver' in window)) return;

      const cards = Array.from(document.querySelectorAll('#products .card'));
      if (!cards.length) return;

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          entry.target.classList.toggle('is-inview', entry.isIntersecting);
        });
      }, {
        threshold: 0.65
      });

      cards.forEach((card) => observer.observe(card));
    })();

    (function setupBarattoloAutoplay(){
      const video = document.getElementById('barattoloVideo');
      if (!video) return;

      video.muted = true;
      video.defaultMuted = true;
      video.volume = 0;
      video.setAttribute('muted', '');
      video.setAttribute('playsinline', '');
      video.setAttribute('webkit-playsinline', '');

      const tryPlay = () => {
        const p = video.play();
        if (p && typeof p.catch === 'function') {
          p.catch(() => {});
        }
      };

      if (video.readyState >= 2) {
        tryPlay();
      } else {
        video.addEventListener('canplay', tryPlay, { once: true });
      }

      document.addEventListener('visibilitychange', () => {
        if (!document.hidden) tryPlay();
      });

      window.addEventListener('touchstart', tryPlay, { once: true, passive: true });
    })();

});
</script>

<script>
  // Convert any <img> inside .card-img into a background-image on the container
  // DISABLED: keeping img elements in DOM to allow CSS hover animations
  (function(){
    function convertCardImages(){
      document.querySelectorAll('.card-img').forEach(function(container){
        var img = container.querySelector('img');
        if(img && img.src){
          container.style.backgroundImage = "url('" + img.src + "')";
          container.style.backgroundSize = 'cover';
          container.style.backgroundPosition = 'center center';
          container.style.backgroundRepeat = 'no-repeat';
          // REMOVED: do not remove img element; keep it for CSS animations
          // img.parentNode && img.parentNode.removeChild(img);
        }
      });
    }
    // DISABLED: comment out conversion to keep img elements in DOM
    // if(document.readyState === 'loading'){
    //   document.addEventListener('DOMContentLoaded', convertCardImages);
    // } else {
    //   convertCardImages();
    // }
  })();

  // Hero tap-to-scroll functionality
  (function(){
    const hero = document.querySelector('.hero');
    if(!hero) return;
    const heroBg = hero.querySelector('.hero-bg');
    const heroContent = hero.querySelector('.hero-content');
    if(!heroBg) return;

    // Add hint element
    const hint = document.createElement('div');
    hint.className = 'hero-scroll-hint';
    hint.textContent = (window.BadianiI18n && window.BadianiI18n.t)
      ? window.BadianiI18n.t('mobile.scrollHint')
      : '← Scorri per vedere tutto →';
    hero.appendChild(hint);

    let isScrollMode = false;

    // Tap on hero (but not on CTA button) to toggle scroll mode
    hero.addEventListener('click', function(e){
      // If clicking the CTA button, let it work normally
      if(e.target.closest('.hero-cta')) return;
      
      // Toggle scroll mode
      isScrollMode = !isScrollMode;
      hero.classList.toggle('scroll-mode', isScrollMode);
      if(isScrollMode){
        heroBg.scrollLeft = heroBg.scrollWidth / 4; // Start centered
      }
    });

    // Auto-exit scroll-mode when the hero leaves the viewport
    if ('IntersectionObserver' in window) {
      const obs = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) return;
          isScrollMode = false;
          hero.classList.remove('scroll-mode');
          // Reset scroll position so the hero is consistent when coming back
          if (heroBg) heroBg.scrollLeft = 0;
        });
      }, { threshold: 0.15 });
      obs.observe(hero);
    }

    // Prevent scrolling from bubbling and toggling mode
    heroBg.addEventListener('scroll', function(e){
      e.stopPropagation();
    });
  })();
</script>

<script>
  // Force Grotesk C for entire elements that contain lowercase letters,
  // even if the same word also contains uppercase letters.
  // We skip elements that are rendered as uppercase via CSS (text-transform: uppercase).
  (function applyGroteskCToLowercaseContainers(){
    const LOWER_RE = /[a-z\u00DF\u00E0-\u00F6\u00F8-\u00FF]/;
    const SKIP_TAGS = new Set(['SCRIPT','STYLE','NOSCRIPT']);

    function isSkippableElement(el){
      if (!el) return true;
      const tag = el.tagName;
      if (!tag) return true;
      if (SKIP_TAGS.has(tag)) return true;
      return false;
    }

    function hasUppercaseTransform(el){
      try {
        return window.getComputedStyle(el).textTransform === 'uppercase';
      } catch {
        return false;
      }
    }

    function scan(){
      if (!document.body) return;

      const walker = document.createTreeWalker(
        document.body,
        NodeFilter.SHOW_TEXT,
        {
          acceptNode(node){
            const v = node && node.nodeValue;
            if (!v) return NodeFilter.FILTER_REJECT;
            if (!LOWER_RE.test(v)) return NodeFilter.FILTER_REJECT;
            return NodeFilter.FILTER_ACCEPT;
          }
        }
      );

      let textNode;
      while ((textNode = walker.nextNode())) {
        const el = textNode.parentElement;
        if (!el || isSkippableElement(el)) continue;
        if (hasUppercaseTransform(el)) continue;
        el.classList.add('sgc-has-lower');
      }
    }

    let scheduled = false;
    function scheduleScan(){
      if (scheduled) return;
      scheduled = true;
      requestAnimationFrame(() => {
        scheduled = false;
        scan();
      });
    }

    // Initial pass
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', scan, { once: true });
    } else {
      scan();
    }

    // Keep it updated for dynamic content (e.g., banner ticker updates)
    if ('MutationObserver' in window) {
      const obs = new MutationObserver(scheduleScan);
      obs.observe(document.body, { subtree: true, childList: true, characterData: true });
    }
  })();
</script>

</body>
</html>